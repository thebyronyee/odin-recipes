YUI.add("hermes-template-confirmation-dialog",(function(e,n){var t=e.Template.Handlebars.revive({1:function(e,n,t,a,l){var r,o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"overflow: auto; max-height: "+e.escapeExpression("function"==typeof(r=null!=(r=o(t,"messageMaxHeight")||(null!=n?o(n,"messageMaxHeight"):n))?r:e.hooks.helperMissing)?r.call(null!=n?n:e.nullContext||{},{name:"messageMaxHeight",hash:{},data:l,loc:{start:{line:5,column:61},end:{line:5,column:81}}}):r)+"px"},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){var r,o=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,s=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="confirmation-dialog">\n\t'+s((u(t,"outlet")||n&&u(n,"outlet")||i).call(o,null!=n?u(n,"basic-closeable-header-view"):n,{name:"outlet",hash:{},data:l,loc:{start:{line:2,column:1},end:{line:2,column:39}}}))+'\n\t<div\n\t\tclass="message-container"\n\t\tstyle="'+(null!=(r=u(t,"if").call(o,null!=n?u(n,"messageMaxHeight"):n,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:5,column:9},end:{line:5,column:90}}}))?r:"")+'">\n\t\t'+s((u(t,"renderTrustedMarkup")||n&&u(n,"renderTrustedMarkup")||i).call(o,null!=n?u(n,"htmlMessage"):n,{name:"renderTrustedMarkup",hash:{},data:l,loc:{start:{line:6,column:2},end:{line:6,column:37}}}))+"\n\t</div>\n\t"+s((u(t,"outlet")||n&&u(n,"outlet")||i).call(o,null!=n?u(n,"basic-confirm-actions-view"):n,{name:"outlet",hash:{},data:l,loc:{start:{line:8,column:1},end:{line:8,column:38}}}))+"\n</div>\n"},useData:!0}),a={};e.Array.each([],(function(n){var t=e.Template.get("hermes/"+n);t&&(a[n]=t)})),e.Template.register("hermes/confirmation-dialog",(function(n,l){return(l=l||{}).partials=l.partials?e.merge(a,l.partials):a,t(n,l)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("confirmation-dialog-view",(function(i,o){i.FlickrView.create(this.name,i.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(i){return this.set("isActiveViewAgnostic",!0),i.title=void 0!==i.title?i.title:"",i.htmlMessage=void 0!==i.htmlMessage?i.htmlMessage:"",i.showConfirmButton=void 0===i.showConfirmButton||i.showConfirmButton,i.showCancelButton=void 0===i.showCancelButton||i.showCancelButton,i.showCloseXButton=void 0===i.showCloseXButton||i.showCloseXButton,i.confirmButtonText=void 0!==i.confirmButtonText?i.confirmButtonText:this.intlMessage({intlName:"common.OK"}),i.cancelButtonText=void 0!==i.cancelButtonText?i.cancelButtonText:this.intlMessage({intlName:"common.CANCEL"}),i.confirmButtonIsDangerous=void 0!==i.confirmButtonIsDangerous&&i.confirmButtonIsDangerous,i.actionsMessage=void 0!==i.actionsMessage?i.actionsMessage:"",i.showActionsMessage=void 0!==i.showActionsMessage&&i.showActionsMessage,i.fireModalActionClick=void 0===i.fireModalActionClick||i.fireModalActionClick,i.fireModalReadyToClose=void 0===i.fireModalReadyToClose||i.fireModalReadyToClose,this.onConfirm=void 0!==i.onConfirm?i.onConfirm:async(i,o)=>{},this.onCancel=void 0!==i.onCancel?i.onCancel:async(i,o)=>{},this.onClose=void 0!==i.onClose?i.onClose:async(i,o)=>{},this.params=i,this.subviewConfig["basic-closeable-header-view"]=Object.assign(this.subviewConfig["basic-closeable-header-view"],{title:i.title,showCloseXButton:i.showCloseXButton,onClose:this.handleCloseClick.bind(this)}),this.subviewConfig["basic-confirm-actions-view"]=Object.assign(this.subviewConfig["basic-confirm-actions-view"],{showConfirmButton:i.showConfirmButton,showCancelButton:i.showCancelButton,cancelButtonText:i.cancelButtonText,confirmButtonText:i.confirmButtonText,message:i.actionsMessage,showMessage:i.showActionsMessage,confirmButtonIsDangerous:i.confirmButtonIsDangerous,onConfirm:this.handleConfirm.bind(this),onCancel:this.handleCancel.bind(this)}),this},subviewConfig:{"basic-closeable-header-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1},"basic-confirm-actions-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1}},loadState:function(){return Promise.resolve()},buildContainer:function(){return this.setContainerWithTemplate("confirmation-dialog",{htmlMessage:this.params.htmlMessage,messageMaxHeight:this.params.messageMaxHeight}),this},activate:function(){},handleCloseClick:async function(i){try{await this.onClose(i,this)}catch(i){return}this.params.fireModalReadyToClose&&this.fire("readyToClose")},handleConfirm:async function(i){try{await this.onConfirm(i,this)}catch(i){return}this.params.fireModalActionClick&&this.fire("actionClick")},handleCancel:async function(i){try{await this.onCancel(i,this)}catch(i){return}this.params.fireModalReadyToClose&&this.fire("readyToClose")},setLoading:function(o){!0===o?this.subviews["basic-confirm-actions-view"].setButtonState({confirm:"loading",cancel:"disabled"}):i.Lang.isObject(o)?this.subviews["basic-confirm-actions-view"].setButtonState(o):this.subviews["basic-confirm-actions-view"].resetButtonState()}})}),"@VERSION@",{requires:["flickr-view","hermes-template-confirmation-dialog"],langBundles:["common"]});YUI.add("hermes-template-fluid-magic-slideshow",(function(e,n){var l=e.Template.Handlebars.revive({1:function(e,n,l,a,s){return" disabled"},compiler:[8,">= 4.3.0"],main:function(e,n,l,a,s){var t,i=null!=n?n:e.nullContext||{},r=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<a href="#" class="slideshow-toggle'+(null!=(t=r(l,"unless").call(i,null!=n?r(n,"isEnabled"):n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:1,column:35},end:{line:1,column:76}}}))?t:"")+'" title="'+e.escapeExpression((r(l,"intlMessage")||n&&r(n,"intlMessage")||e.hooks.helperMissing).call(i,{name:"intlMessage",hash:{intlName:"common.TOGGLE_SLIDESHOW"},data:s,loc:{start:{line:1,column:85},end:{line:1,column:135}}}))+'" tabindex="-1">\n\t<svg class="icon icon-slideshow"><use xlink:href="#icon-slideshow"></use></svg>\n</a>\n'},useData:!0}),a={};e.Array.each([],(function(n){var l=e.Template.get("hermes/"+n);l&&(a[n]=l)})),e.Template.register("hermes/fluid-magic-slideshow",(function(n,s){return(s=s||{}).partials=s.partials?e.merge(a,s.partials):a,l(n,s)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-slideshow",(function(n,l){var e=n.Template.Handlebars.revive({1:function(n,l,e,a,t){return" no-click"},3:function(n,l,e,a,t){return" is-hidden"},5:function(n,l,e,a,t){return" is-video"},7:function(n,l,e,a,t){var r,o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression("function"==typeof(r=null!=(r=o(e,"prev-url")||(null!=l?o(l,"prev-url"):l))?r:n.hooks.helperMissing)?r.call(null!=l?l:n.nullContext||{},{name:"prev-url",hash:{},data:t,loc:{start:{line:4,column:181},end:{line:4,column:193}}}):r)},9:function(n,l,e,a,t){return"#"},11:function(n,l,e,a,t){var r,o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression("function"==typeof(r=null!=(r=o(e,"next-url")||(null!=l?o(l,"next-url"):l))?r:n.hooks.helperMissing)?r.call(null!=l?l:n.nullContext||{},{name:"next-url",hash:{},data:t,loc:{start:{line:6,column:181},end:{line:6,column:193}}}):r)},compiler:[8,">= 4.3.0"],main:function(n,l,e,a,t){var r,o=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,s=n.escapeExpression,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return s((c(e,"outlet")||l&&c(l,"outlet")||i).call(o,null!=l?c(l,"photo-well-view"):l,{name:"outlet",hash:{},data:t,loc:{start:{line:1,column:0},end:{line:1,column:26}}}))+'\n<a class="playpause chrome" data-track="playpauseClick"><span class="pause-button"></span><span class="play-button"></span><div class="timer"></div></a>\n\n<a class="navigate-target chrome navigate-prev'+(null!=(r=c(e,"if").call(o,null!=l?c(l,"prev-is-not-clickable"):l,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t,loc:{start:{line:4,column:46},end:{line:4,column:91}}}))?r:"")+(null!=(r=c(e,"if").call(o,null!=l?c(l,"is-hidden"):l,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t,loc:{start:{line:4,column:91},end:{line:4,column:125}}}))?r:"")+(null!=(r=c(e,"if").call(o,null!=l?c(l,"is-video"):l,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.noop,data:t,loc:{start:{line:4,column:125},end:{line:4,column:157}}}))?r:"")+'" href="'+(null!=(r=c(e,"if").call(o,null!=l?c(l,"prev-url"):l,{name:"if",hash:{},fn:n.program(7,t,0),inverse:n.program(9,t,0),data:t,loc:{start:{line:4,column:165},end:{line:4,column:209}}}))?r:"")+'" data-track="prevPhotoButtonClick" data-direction="prev"><span class="navigate-target-arrow"></span></a>\n\n<a class="navigate-target chrome navigate-next'+(null!=(r=c(e,"if").call(o,null!=l?c(l,"next-is-not-clickable"):l,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t,loc:{start:{line:6,column:46},end:{line:6,column:91}}}))?r:"")+(null!=(r=c(e,"if").call(o,null!=l?c(l,"is-hidden"):l,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t,loc:{start:{line:6,column:91},end:{line:6,column:125}}}))?r:"")+(null!=(r=c(e,"if").call(o,null!=l?c(l,"is-video"):l,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.noop,data:t,loc:{start:{line:6,column:125},end:{line:6,column:157}}}))?r:"")+'" href="'+(null!=(r=c(e,"if").call(o,null!=l?c(l,"next-url"):l,{name:"if",hash:{},fn:n.program(11,t,0),inverse:n.program(9,t,0),data:t,loc:{start:{line:6,column:165},end:{line:6,column:209}}}))?r:"")+'" data-track="nextPhotoButtonClick" data-direction="next"><span class="navigate-target-arrow"></span></a>\n\n<a class="close chrome" data-track="closeClick"><span></span></a>\n'+s((c(e,"outlet")||l&&c(l,"outlet")||i).call(o,null!=l?c(l,"slideshow-attribution-view"):l,{name:"outlet",hash:{},data:t,loc:{start:{line:9,column:0},end:{line:9,column:37}}}))+"\n"},useData:!0}),a={};n.Array.each([],(function(l){var e=n.Template.get("hermes/"+l);e&&(a[l]=e)})),n.Template.register("hermes/slideshow",(function(l,t){return(t=t||{}).partials=t.partials?n.merge(a,t.partials):a,e(l,t)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-pro-badge",(function(n,l){var e=n.Template.Handlebars.revive({1:function(n,l,e,o,a){var r,t=null!=l?l:n.nullContext||{},i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"\t<a "+(null!=(r=i(e,"if").call(t,null!=l?i(l,"noLink"):l,{name:"if",hash:{},fn:n.noop,inverse:n.program(2,a,0),data:a,loc:{start:{line:2,column:4},end:{line:2,column:114}}}))?r:"")+' class="pro-badge-new pro-badge-legacy'+(null!=(r=i(e,"if").call(t,null!=l?i(l,"noLink"):l,{name:"if",hash:{},fn:n.program(7,a,0),inverse:n.noop,data:a,loc:{start:{line:2,column:152},end:{line:2,column:181}}}))?r:"")+(null!=(r=i(e,"if").call(t,null!=l?i(l,"light"):l,{name:"if",hash:{},fn:n.program(9,a,0),inverse:n.noop,data:a,loc:{start:{line:2,column:181},end:{line:2,column:207}}}))?r:"")+(null!=(r=i(e,"if").call(t,null!=l?i(l,"extraClasses"):l,{name:"if",hash:{},fn:n.program(11,a,0),inverse:n.noop,data:a,loc:{start:{line:2,column:207},end:{line:2,column:251}}}))?r:"")+'" title="'+n.escapeExpression((i(e,"intlMessage")||l&&i(l,"intlMessage")||n.hooks.helperMissing).call(t,{name:"intlMessage",hash:{intlName:"common.FLICKR_LOVES_OLD_SCHOOL_PROS"},data:a,loc:{start:{line:2,column:260},end:{line:2,column:322}}}))+'">\n'+(null!=(r=i(e,"if").call(t,null!=l?i(l,"light"):l,{name:"if",hash:{},fn:n.program(13,a,0),inverse:n.program(15,a,0),data:a,loc:{start:{line:4,column:2},end:{line:8,column:9}}}))?r:"")+"\t</a>\n"},2:function(n,l,e,o,a){var r,t=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(r=t(e,"if").call(null!=l?l:n.nullContext||{},null!=l?t(l,"purchaseProURL"):l,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.program(5,a,0),data:a,loc:{start:{line:2,column:18},end:{line:2,column:107}}}))?r:""},3:function(n,l,e,o,a){var r,t=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'href="'+n.escapeExpression("function"==typeof(r=null!=(r=t(e,"purchaseProURL")||(null!=l?t(l,"purchaseProURL"):l))?r:n.hooks.helperMissing)?r.call(null!=l?l:n.nullContext||{},{name:"purchaseProURL",hash:{},data:a,loc:{start:{line:2,column:46},end:{line:2,column:64}}}):r)+'"'},5:function(n,l,e,o,a){return'href="/account/upgrade/pro"'},7:function(n,l,e,o,a){return" no-link"},9:function(n,l,e,o,a){return" light"},11:function(n,l,e,o,a){var r,t=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return" "+n.escapeExpression("function"==typeof(r=null!=(r=t(e,"extraClasses")||(null!=l?t(l,"extraClasses"):l))?r:n.hooks.helperMissing)?r.call(null!=l?l:n.nullContext||{},{name:"extraClasses",hash:{},data:a,loc:{start:{line:2,column:228},end:{line:2,column:244}}}):r)},13:function(n,l,e,o,a){return'\t\t\t<svg class="icon icon-old-pro-badge"><use xlink:href="#icon-old-pro-badge-colorless"></use></svg>\n'},15:function(n,l,e,o,a){return'\t\t\t<svg class="icon icon-old-pro-badge-color"><use xlink:href="#icon-old-pro-badge"></use></svg>\n'},17:function(n,l,e,o,a){var r,t=null!=l?l:n.nullContext||{},i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"\t<a "+(null!=(r=i(e,"if").call(t,null!=l?i(l,"noLink"):l,{name:"if",hash:{},fn:n.noop,inverse:n.program(2,a,0),data:a,loc:{start:{line:11,column:4},end:{line:11,column:114}}}))?r:"")+' class="pro-badge-new'+(null!=(r=i(e,"if").call(t,null!=l?i(l,"noLink"):l,{name:"if",hash:{},fn:n.program(7,a,0),inverse:n.noop,data:a,loc:{start:{line:11,column:135},end:{line:11,column:164}}}))?r:"")+(null!=(r=i(e,"if").call(t,null!=l?i(l,"light"):l,{name:"if",hash:{},fn:n.program(9,a,0),inverse:n.noop,data:a,loc:{start:{line:11,column:164},end:{line:11,column:190}}}))?r:"")+(null!=(r=i(e,"if").call(t,null!=l?i(l,"extraClasses"):l,{name:"if",hash:{},fn:n.program(11,a,0),inverse:n.noop,data:a,loc:{start:{line:11,column:190},end:{line:11,column:234}}}))?r:"")+'">\n\t\t<svg class="icon icon-pro-badge"><use xlink:href="#icon-pro-badge"></use></svg>\n\t</a>\n'},compiler:[8,">= 4.3.0"],main:function(n,l,e,o,a){var r,t=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(r=(t(e,"ifCond")||l&&t(l,"ifCond")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?t(l,"badgeType"):l,"===","legacy",{name:"ifCond",hash:{},fn:n.program(1,a,0),inverse:n.program(17,a,0),data:a,loc:{start:{line:1,column:0},end:{line:14,column:11}}}))?r:""},useData:!0}),o={};n.Array.each([],(function(l){var e=n.Template.get("hermes/"+l);e&&(o[l]=e)})),n.Template.register("hermes/pro-badge",(function(l,a){return(a=a||{}).partials=a.partials?n.merge(o,a.partials):o,e(l,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-attribution",(function(n,l){var e=n.Template.Handlebars.revive({1:function(n,l,e,a,t){var o,r=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,u="function",s=n.escapeExpression,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t<a class="avatar person medium no-menu" data-person-nsid="'+s(typeof(o=null!=(o=c(e,"nsid")||(null!=l?c(l,"nsid"):l))?o:i)===u?o.call(r,{name:"nsid",hash:{},data:t,loc:{start:{line:2,column:59},end:{line:2,column:67}}}):o)+'" style="background-image: url('+s(typeof(o=null!=(o=c(e,"buddyicon")||(null!=l?c(l,"buddyicon"):l))?o:i)===u?o.call(r,{name:"buddyicon",hash:{},data:t,loc:{start:{line:2,column:98},end:{line:2,column:111}}}):o)+');" href="/photos/'+s(typeof(o=null!=(o=c(e,"pathAlias")||(null!=l?c(l,"pathAlias"):l))?o:i)===u?o.call(r,{name:"pathAlias",hash:{},data:t,loc:{start:{line:2,column:129},end:{line:2,column:142}}}):o)+'/"></a>\n'},3:function(n,l,e,a,t){var o,r=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,u="function",s=n.escapeExpression,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t<a class="avatar person medium"\n\t\trel="author"\n\t\thref="/photos/'+s(typeof(o=null!=(o=c(e,"pathAlias")||(null!=l?c(l,"pathAlias"):l))?o:i)===u?o.call(r,{name:"pathAlias",hash:{},data:t,loc:{start:{line:6,column:16},end:{line:6,column:29}}}):o)+'/"\n\t\tdata-person-nsid="'+s(typeof(o=null!=(o=c(e,"nsid")||(null!=l?c(l,"nsid"):l))?o:i)===u?o.call(r,{name:"nsid",hash:{},data:t,loc:{start:{line:7,column:20},end:{line:7,column:28}}}):o)+'"\n\t\tstyle="background-image: url('+s(typeof(o=null!=(o=c(e,"buddyicon")||(null!=l?c(l,"buddyicon"):l))?o:i)===u?o.call(r,{name:"buddyicon",hash:{},data:t,loc:{start:{line:8,column:31},end:{line:8,column:44}}}):o)+');"\n\t\ttabindex="0"></a>\n'},5:function(n,l,e,a,t){var o,r,i=null!=l?l:n.nullContext||{},u=n.hooks.helperMissing,s="function",c=n.escapeExpression,p=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(o=p(e,"unless").call(i,null!=l?p(l,"isAlbumView"):l,{name:"unless",hash:{},fn:n.program(6,t,0),inverse:n.noop,data:t,loc:{start:{line:13,column:1},end:{line:21,column:12}}}))?o:"")+'\n\t<div class="attribution-info">\n\t\t<a rel="author" href="/photos/'+c(typeof(r=null!=(r=p(e,"pathAlias")||(null!=l?p(l,"pathAlias"):l))?r:u)===s?r.call(i,{name:"pathAlias",hash:{},data:t,loc:{start:{line:24,column:32},end:{line:24,column:45}}}):r)+'/" class="owner-name truncate" title="'+c((p(e,"intlMessage")||l&&p(l,"intlMessage")||u).call(i,{name:"intlMessage",hash:{name:null!=l?p(l,"displayname"):l,intlName:"attribution.GO_TO_PHOTOSTREAM"},data:t,loc:{start:{line:24,column:83},end:{line:24,column:156}}}))+'" data-track="attributionNameClick">'+c(typeof(r=null!=(r=p(e,"displayname")||(null!=l?p(l,"displayname"):l))?r:u)===s?r.call(i,{name:"displayname",hash:{},data:t,loc:{start:{line:24,column:192},end:{line:24,column:207}}}):r)+'</a>\n\t\t<a rel="author" href="/photos/'+c(typeof(r=null!=(r=p(e,"pathAlias")||(null!=l?p(l,"pathAlias"):l))?r:u)===s?r.call(i,{name:"pathAlias",hash:{},data:t,loc:{start:{line:25,column:32},end:{line:25,column:45}}}):r)+'/" class="owner-name-with-by truncate" title="'+c((p(e,"intlMessage")||l&&p(l,"intlMessage")||u).call(i,{name:"intlMessage",hash:{name:null!=l?p(l,"displayname"):l,intlName:"attribution.GO_TO_PHOTOSTREAM"},data:t,loc:{start:{line:25,column:91},end:{line:25,column:164}}}))+'" data-track="attributionNameClick">'+c((p(e,"intlMessage")||l&&p(l,"intlMessage")||u).call(i,{name:"intlMessage",hash:{user:null!=l?p(l,"displayname"):l,intlName:"attribution.BY_USER"},data:t,loc:{start:{line:25,column:200},end:{line:25,column:263}}}))+"</a>\n\n\t\t"+c((p(e,"outlet")||l&&p(l,"outlet")||u).call(i,null!=l?p(l,"follow-view"):l,{name:"outlet",hash:{},data:t,loc:{start:{line:27,column:2},end:{line:27,column:24}}}))+"\n\n"+(null!=(o=p(e,"if").call(i,null!=l?p(l,"isAlbumView"):l,{name:"if",hash:{},fn:n.program(12,t,0),inverse:n.noop,data:t,loc:{start:{line:29,column:2},end:{line:33,column:9}}}))?o:"")+"\t</div>\n"},6:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"isPro"):l,{name:"if",hash:{},fn:n.program(7,t,0),inverse:n.noop,data:t,loc:{start:{line:14,column:2},end:{line:20,column:9}}}))?o:""},7:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"realFullscreenEnabled"):l,{name:"if",hash:{},fn:n.program(8,t,0),inverse:n.program(10,t,0),data:t,loc:{start:{line:15,column:3},end:{line:19,column:10}}}))?o:""},8:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=n.invokePartial(r(a,"pro-badge"),l,{name:"pro-badge",hash:{purchaseProURL:null!=l?r(l,"upgradeProLink"):l,light:!0,badgeType:null!=l?r(l,"proBadge"):l},data:t,indent:"\t\t\t\t",helpers:e,partials:a,decorators:n.decorators}))?o:""},10:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=n.invokePartial(r(a,"pro-badge"),l,{name:"pro-badge",hash:{purchaseProURL:null!=l?r(l,"upgradeProLink"):l,badgeType:null!=l?r(l,"proBadge"):l},data:t,indent:"\t\t\t\t",helpers:e,partials:a,decorators:n.decorators}))?o:""},12:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"isPro"):l,{name:"if",hash:{},fn:n.program(8,t,0),inverse:n.noop,data:t,loc:{start:{line:30,column:3},end:{line:32,column:10}}}))?o:""},14:function(n,l,e,a,t){var o,r,i=null!=l?l:n.nullContext||{},u=n.hooks.helperMissing,s="function",c=n.escapeExpression,p=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t<div class="attribution-info">\n\t\t<div class="attribution-detached-container">\n\t\t\t<a rel="author" href="/photos/'+c(typeof(r=null!=(r=p(e,"pathAlias")||(null!=l?p(l,"pathAlias"):l))?r:u)===s?r.call(i,{name:"pathAlias",hash:{},data:t,loc:{start:{line:38,column:33},end:{line:38,column:46}}}):r)+'/" class="owner-name truncate" title="'+c((p(e,"intlMessage")||l&&p(l,"intlMessage")||u).call(i,{name:"intlMessage",hash:{name:null!=l?p(l,"displayname"):l,intlName:"attribution.GO_TO_PHOTOSTREAM"},data:t,loc:{start:{line:38,column:84},end:{line:38,column:157}}}))+'" data-track="attributionNameClick">'+c(typeof(r=null!=(r=p(e,"displayname")||(null!=l?p(l,"displayname"):l))?r:u)===s?r.call(i,{name:"displayname",hash:{},data:t,loc:{start:{line:38,column:193},end:{line:38,column:208}}}):r)+'</a>\n\t\t\t<div class="attribution-sub-container">\n'+(null!=(o=p(e,"if").call(i,null!=l?p(l,"isPro"):l,{name:"if",hash:{},fn:n.program(15,t,0),inverse:n.noop,data:t,loc:{start:{line:40,column:4},end:{line:46,column:11}}}))?o:"")+'\t\t\t\t<p class="attribution-username" title="'+c(typeof(r=null!=(r=p(e,"username")||(null!=l?p(l,"username"):l))?r:u)===s?r.call(i,{name:"username",hash:{},data:t,loc:{start:{line:47,column:43},end:{line:47,column:57}}}):r)+'">'+c(typeof(r=null!=(r=p(e,"username")||(null!=l?p(l,"username"):l))?r:u)===s?r.call(i,{name:"username",hash:{},data:t,loc:{start:{line:47,column:59},end:{line:47,column:73}}}):r)+"</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t"+c((p(e,"outlet")||l&&p(l,"outlet")||u).call(i,null!=l?p(l,"follow-view"):l,{name:"outlet",hash:{},data:t,loc:{start:{line:51,column:2},end:{line:51,column:24}}}))+"\n\t</div>\n"},15:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"realFullscreenEnabled"):l,{name:"if",hash:{},fn:n.program(16,t,0),inverse:n.program(18,t,0),data:t,loc:{start:{line:41,column:5},end:{line:45,column:12}}}))?o:""},16:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=n.invokePartial(r(a,"pro-badge"),l,{name:"pro-badge",hash:{purchaseProURL:null!=l?r(l,"upgradeProLink"):l,light:!0,badgeType:null!=l?r(l,"proBadge"):l},data:t,indent:"\t\t\t\t\t\t",helpers:e,partials:a,decorators:n.decorators}))?o:""},18:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=n.invokePartial(r(a,"pro-badge"),l,{name:"pro-badge",hash:{purchaseProURL:null!=l?r(l,"upgradeProLink"):l,badgeType:null!=l?r(l,"proBadge"):l},data:t,indent:"\t\t\t\t\t\t",helpers:e,partials:a,decorators:n.decorators}))?o:""},compiler:[8,">= 4.3.0"],main:function(n,l,e,a,t){var o,r=null!=l?l:n.nullContext||{},i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(o=i(e,"if").call(r,null!=l?i(l,"noMenu"):l,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.program(3,t,0),data:t,loc:{start:{line:1,column:0},end:{line:10,column:7}}}))?o:"")+"\n"+(null!=(o=(i(e,"ifCond")||l&&i(l,"ifCond")||n.hooks.helperMissing).call(r,null!=l?i(l,"parentViewName"):l,"!==","photo-page-sidebar-view",{name:"ifCond",hash:{},fn:n.program(5,t,0),inverse:n.program(14,t,0),data:t,loc:{start:{line:12,column:0},end:{line:53,column:11}}}))?o:"")},usePartial:!0,useData:!0}),a={};n.Array.each(["pro-badge","pro-badge","pro-badge","pro-badge","pro-badge"],(function(l){var e=n.Template.get("hermes/"+l);e&&(a[l]=e)})),n.Template.register("hermes/attribution",(function(l,t){return(t=t||{}).partials=t.partials?n.merge(a,t.partials):a,e(l,t)}))}),"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-pro-badge","hermes-template-pro-badge","hermes-template-pro-badge","hermes-template-pro-badge","hermes-template-pro-badge"]});YUI.add("slideshow-attribution-view",(function(e,i){var t=require("hermes-core/flog")(i);e.FlickrView.create(this.name,e.FlickrView,[],{initializer:function(e){this.set("isActiveViewAgnostic",e.isActiveViewAgnostic);var i=e.collection.getList()[e.position];return i&&(this.nsid=e.nsid=i.getValue("owner").getValue("nsid")),this.realFullscreen=!0,this},langBundles:this.details.langBundles,subviewConfig:{"follow-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!1,isActiveViewAgnostic:!0,isOnDark:!0}},loadState:function(){var e=this;if(this.nsid)return this.appContext.getModel("person-models",this.nsid).then((function(i){e.set("owner",i)}));throw new Error("missing nsid")},buildContainer:function(){var e,i=this.get("owner"),t=this.appContext.getViewer().nsid,n=i.getValue("pathAlias")||i.getValue("nsid");return e=i.getValue("buddyicon").large?i.getValue("buddyicon").large:i.getValue("buddyicon").default,this.setContainerWithTemplate("attribution",{pathAlias:n,buddyicon:e,nsid:i.getValue("nsid"),displayname:i.getValue("displayname"),follow:this.subviews["follow-view"]?this.subviews["follow-view"].get("container"):"",realFullscreenEnabled:this.realFullscreen&&this.appContext.experiments.fullscreen.getMode()}),t===i.getValue("nsid")?this.get("container").addClass("is-self"):this.get("container").removeClass("is-self"),this},activate:function(){return this.registerEventHandler(e.on("personMenuOpen",this.handlePersonMenuOpen.bind(this))),this.registerEventHandler(e.on("personMenuClose",this.handlePersonMenuClose.bind(this))),this},handlePersonMenuOpen:function(e){this.fire("subviewViewEvent","personMenuOpen")},handlePersonMenuClose:function(e){this.fire("subviewViewEvent","personMenuClose")},onParentViewEvent:function(e,i){var n,s,o=this;i&&i[0]&&("slideshowView:newPhoto"===(n=i[0])?i[1]&&(s=i[1].getValue("owner").getValue("nsid"))!==this.nsid&&(this.nsid=s,this.set("owner",i[1].getValue("owner")),this.subviews["follow-view"]&&this.subviews["follow-view"].destroy({remove:!0}),this.instantiateSubview("follow-view",{nsid:s,realFullscreen:!0,isActiveViewAgnostic:!0,isOnDark:!0}).then((function(e){return e.initialize()})).then((function(e){o.buildContainer(),o.get("container").one(".follow-view").addClass("is-real-fullscreen photo-attribution"),e.normalizedActivate()})).catch((function(e){t.error("Error loading follow-view",{err:e})}))):"slideshowView:preloadPhoto"===n&&(s=i[1].getValue("owner").getValue("nsid"))!==this.nsid&&o.appContext.getModel("person-relationship-models",{id:s}))}})}),"@VERSION@",{requires:["flickr-view","hermes-template-attribution"],optionalRequires:["hermes-core"],optional:["person-models"],langBundles:["attribution"]});