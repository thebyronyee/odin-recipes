YUI.add("hermes-lang-attribution",(function(e,t){e.Intl.add("hermes/attribution","en-US",{FOLLOW:[{type:0,value:"Follow"}],FOLLOWING:[{type:0,value:"Following"}],ERROR_SETTING_FRIEND:[{type:0,value:"There was a problem setting your friend relationship"}],ERROR_SETTING_FAMILY:[{type:0,value:"There was a "},{type:2,value:"POPULATION",style:"integer"},{type:0,value:" problem setting your family relationship"}],FRIEND:[{type:0,value:"Friend"}],FAMILY:[{type:0,value:"Family"}],UNFOLLOW:[{type:0,value:"Unfollow"}],GO_TO_PHOTOSTREAM:[{type:0,value:"Go to "},{type:1,value:"name"},{type:0,value:"â€™s photostream"}],BY_USER:[{type:0,value:"By: "},{type:1,value:"user"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-template-adult-content-photo-overlay",(function(n,e){var l=n.Template.Handlebars.revive({1:function(n,e,l,t,a){return" compact"},3:function(n,e,l,t,a){return" large"},5:function(n,e,l,t,a){return" with-nsfw-2024"},7:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"width:"+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"containerWidth")||(null!=e?r(e,"containerWidth"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"containerWidth",hash:{},data:a,loc:{start:{line:6,column:37},end:{line:6,column:55}}}):o)+"px;"},9:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"height:"+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"containerHeight")||(null!=e?r(e,"containerHeight"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"containerHeight",hash:{},data:a,loc:{start:{line:7,column:39},end:{line:7,column:58}}}):o)+"px;"},11:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"min-height:"+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"containerMinHeight")||(null!=e?r(e,"containerMinHeight"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"containerMinHeight",hash:{},data:a,loc:{start:{line:8,column:46},end:{line:8,column:68}}}):o)+"px;"},13:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"max-width:"+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"containerMaxWidth")||(null!=e?r(e,"containerMaxWidth"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"containerMaxWidth",hash:{},data:a,loc:{start:{line:9,column:44},end:{line:9,column:65}}}):o)+"px;"},15:function(n,e,l,t,a){var o,r,i=null!=e?e:n.nullContext||{},s=n.hooks.helperMissing,c="function",u=n.escapeExpression,p=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t<a class="nsfw-overlay-bg'+(null!=(o=(p(l,"isFlipped")||e&&p(e,"isFlipped")||s).call(i,"enable-nsfw-2024",{name:"isFlipped",hash:{},fn:n.program(16,a,0),inverse:n.noop,data:a,loc:{start:{line:12,column:27},end:{line:12,column:99}}}))?o:"")+'" href="'+u(typeof(r=null!=(r=p(l,"photoUrl")||(null!=e?p(e,"photoUrl"):e))?r:s)===c?r.call(i,{name:"photoUrl",hash:{},data:a,loc:{start:{line:12,column:107},end:{line:12,column:119}}}):r)+'" data-photo-id="'+u(typeof(r=null!=(r=p(l,"photoId")||(null!=e?p(e,"photoId"):e))?r:s)===c?r.call(i,{name:"photoId",hash:{},data:a,loc:{start:{line:12,column:136},end:{line:12,column:147}}}):r)+'"></a>\n'},16:function(n,e,l,t,a){return" photo-thumb-interstitial"},18:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t<span class="nsfw-overlay-bg photo-thumb-interstitial" data-photo-id="'+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"photoId")||(null!=e?r(e,"photoId"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"photoId",hash:{},data:a,loc:{start:{line:15,column:72},end:{line:15,column:83}}}):o)+'"></span>\n'},20:function(n,e,l,t,a){return" clickable"},22:function(n,e,l,t,a){return'\t\t\t<svg class="icon icon-warning warning-icon"><use xlink:href="#icon-warning"></use></svg>\n'},24:function(n,e,l,t,a){var o=null!=e?e:n.nullContext||{},r=n.hooks.helperMissing,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t\t<p class="message">'+n.escapeExpression((i(l,"renderTrustedMarkup")||e&&i(e,"renderTrustedMarkup")||r).call(o,(i(l,"preventOrphansHtml")||e&&i(e,"preventOrphansHtml")||r).call(o,null!=e?i(e,"detailsMessage"):e,{name:"preventOrphansHtml",hash:{},data:a,loc:{start:{line:28,column:44},end:{line:28,column:79}}}),{name:"renderTrustedMarkup",hash:{},data:a,loc:{start:{line:28,column:22},end:{line:28,column:81}}}))+"</p>\n"},26:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t\t<button class="cta">'+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"ctaMessage")||(null!=e?r(e,"ctaMessage"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"ctaMessage",hash:{},data:a,loc:{start:{line:32,column:23},end:{line:32,column:37}}}):o)+"</button>\n"},28:function(n,e,l,t,a){var o=null!=e?e:n.nullContext||{},r=n.hooks.helperMissing,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t\t<p class="message bottom-message">'+n.escapeExpression((i(l,"renderTrustedMarkup")||e&&i(e,"renderTrustedMarkup")||r).call(o,(i(l,"preventOrphansHtml")||e&&i(e,"preventOrphansHtml")||r).call(o,null!=e?i(e,"bottomMessage"):e,{name:"preventOrphansHtml",hash:{},data:a,loc:{start:{line:36,column:59},end:{line:36,column:93}}}),{name:"renderTrustedMarkup",hash:{},data:a,loc:{start:{line:36,column:37},end:{line:36,column:95}}}))+"</p>\n"},compiler:[8,">= 4.3.0"],main:function(n,e,l,t,a){var o,r=null!=e?e:n.nullContext||{},i=n.hooks.helperMissing,s=n.escapeExpression,c=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="adult-content-photo-overlay\n\t'+(null!=(o=c(l,"if").call(r,null!=e?c(e,"isCompact"):e,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:2,column:1},end:{line:2,column:33}}}))?o:"")+"\n\t"+(null!=(o=c(l,"if").call(r,null!=e?c(e,"isLarge"):e,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:3,column:1},end:{line:3,column:29}}}))?o:"")+"\n\t"+(null!=(o=(c(l,"isFlipped")||e&&c(e,"isFlipped")||i).call(r,"enable-nsfw-2024",{name:"isFlipped",hash:{},fn:n.program(5,a,0),inverse:n.noop,data:a,loc:{start:{line:4,column:1},end:{line:4,column:63}}}))?o:"")+'"\n\tstyle="\n\t\t'+(null!=(o=(c(l,"ifDefined")||e&&c(e,"ifDefined")||i).call(r,null!=e?c(e,"containerWidth"):e,{name:"ifDefined",hash:{},fn:n.program(7,a,0),inverse:n.noop,data:a,loc:{start:{line:6,column:2},end:{line:6,column:72}}}))?o:"")+"\n\t\t"+(null!=(o=(c(l,"ifDefined")||e&&c(e,"ifDefined")||i).call(r,null!=e?c(e,"containerHeight"):e,{name:"ifDefined",hash:{},fn:n.program(9,a,0),inverse:n.noop,data:a,loc:{start:{line:7,column:2},end:{line:7,column:75}}}))?o:"")+"\n\t\t"+(null!=(o=(c(l,"ifDefined")||e&&c(e,"ifDefined")||i).call(r,null!=e?c(e,"containerMinHeight"):e,{name:"ifDefined",hash:{},fn:n.program(11,a,0),inverse:n.noop,data:a,loc:{start:{line:8,column:2},end:{line:8,column:85}}}))?o:"")+"\n\t\t"+(null!=(o=(c(l,"ifDefined")||e&&c(e,"ifDefined")||i).call(r,null!=e?c(e,"containerMaxWidth"):e,{name:"ifDefined",hash:{},fn:n.program(13,a,0),inverse:n.noop,data:a,loc:{start:{line:9,column:2},end:{line:9,column:82}}}))?o:"")+'\n\t\t">\n'+(null!=(o=c(l,"if").call(r,null!=e?c(e,"photoUrl"):e,{name:"if",hash:{},fn:n.program(15,a,0),inverse:n.program(18,a,0),data:a,loc:{start:{line:11,column:1},end:{line:16,column:8}}}))?o:"")+'\t<div class="content-container'+(null!=(o=c(l,"if").call(r,null!=e?c(e,"ctaMessage"):e,{name:"if",hash:{},fn:n.program(20,a,0),inverse:n.noop,data:a,loc:{start:{line:17,column:30},end:{line:17,column:65}}}))?o:"")+'">\n\n'+(null!=(o=c(l,"if").call(r,null!=e?c(e,"showIcon"):e,{name:"if",hash:{},fn:n.program(22,a,0),inverse:n.noop,data:a,loc:{start:{line:19,column:2},end:{line:21,column:9}}}))?o:"")+'\n\t\t<div class="eighteen-plus">18+</div>\n\n\t\t<h1 class="nsfw-overlay-title">'+s((c(l,"intlMessage")||e&&c(e,"intlMessage")||i).call(r,{name:"intlMessage",hash:{intlName:"adult-content-overlay.ADULT_CONTENT"},data:a,loc:{start:{line:25,column:33},end:{line:25,column:95}}}))+'</h1>\n\t\t<p class="message main-message">'+s((c(l,"preventOrphans")||e&&c(e,"preventOrphans")||i).call(r,(c(l,"intlMessage")||e&&c(e,"intlMessage")||i).call(r,{name:"intlMessage",hash:{intlName:"adult-content-overlay.MATURE_AUDIENCES"},data:a,loc:{start:{line:26,column:51},end:{line:26,column:114}}}),{name:"preventOrphans",hash:{},data:a,loc:{start:{line:26,column:34},end:{line:26,column:116}}}))+"</p>\n"+(null!=(o=c(l,"if").call(r,null!=e?c(e,"detailsMessage"):e,{name:"if",hash:{},fn:n.program(24,a,0),inverse:n.noop,data:a,loc:{start:{line:27,column:2},end:{line:29,column:9}}}))?o:"")+"\n"+(null!=(o=c(l,"if").call(r,null!=e?c(e,"ctaMessage"):e,{name:"if",hash:{},fn:n.program(26,a,0),inverse:n.noop,data:a,loc:{start:{line:31,column:2},end:{line:33,column:9}}}))?o:"")+"\n"+(null!=(o=c(l,"if").call(r,null!=e?c(e,"bottomMessage"):e,{name:"if",hash:{},fn:n.program(28,a,0),inverse:n.noop,data:a,loc:{start:{line:35,column:2},end:{line:37,column:9}}}))?o:"")+"\t</div>\n</div>\n"},useData:!0}),t={};n.Array.each([],(function(e){var l=n.Template.get("hermes/"+e);l&&(t[e]=l)})),n.Template.register("hermes/adult-content-photo-overlay",(function(e,a){return(a=a||{}).partials=a.partials?n.merge(t,a.partials):t,l(e,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-photo-well-media-scrappy",(function(n,t){var l=n.Template.Handlebars.revive({1:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=(i(l,"isFlipped")||t&&i(t,"isFlipped")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},"enable-nsfw-2024",{name:"isFlipped",hash:{},fn:n.program(2,a,0),inverse:n.program(4,a,0),data:a,loc:{start:{line:2,column:1},end:{line:29,column:15}}}))?o:""},2:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=n.invokePartial(i(e,"adult-content-photo-overlay"),t,{name:"adult-content-photo-overlay",hash:{containerHeight:null!=t?i(t,"height"):t,containerMaxWidth:"1024",containerMinHeight:"360",isLarge:null!=(o=null!=t?i(t,"nsfwOverlayConfig"):t)?i(o,"isLarge"):o,ctaMessage:null!=(o=null!=t?i(t,"nsfwOverlayConfig"):t)?i(o,"ctaMessage"):o,bottomMessage:null!=(o=null!=t?i(t,"nsfwOverlayConfig"):t)?i(o,"bottomMessage"):o,detailsMessage:null!=(o=null!=t?i(t,"nsfwOverlayConfig"):t)?i(o,"detailsMessage"):o,showIcon:null!=(o=null!=t?i(t,"nsfwOverlayConfig"):t)?i(o,"showIcon"):o},data:a,indent:"\t\t",helpers:l,partials:e,decorators:n.decorators}))?o:""},4:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t<div class="restricted-interstitial">\n\t\t\t<div class="restricted-interstitial-message">\n\t\t\t\t<h2>'+n.escapeExpression((s(l,"intlMessage")||t&&s(t,"intlMessage")||n.hooks.helperMissing).call(i,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ADULT_CONTENT"},data:a,loc:{start:{line:16,column:8},end:{line:16,column:67}}}))+"</h2>\n"+(null!=(o=s(l,"if").call(i,null!=t?s(t,"isSignedIn"):t,{name:"if",hash:{},fn:n.program(5,a,0),inverse:n.program(8,a,0),data:a,loc:{start:{line:17,column:4},end:{line:26,column:11}}}))?o:"")+"\t\t\t</div>\n\t\t</div>\n"},5:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,r=n.escapeExpression,c=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t\t\t<p>"+r((c(l,"intlMessage")||t&&c(t,"intlMessage")||s).call(i,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.MATURE_AUDIENCES"},data:a,loc:{start:{line:18,column:8},end:{line:18,column:70}}}))+"<br />"+r((c(l,"intlMessage")||t&&c(t,"intlMessage")||s).call(i,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.USER_DISCRETION"},data:a,loc:{start:{line:18,column:76},end:{line:18,column:137}}}))+"</p>\n\n"+(null!=(o=c(l,"unless").call(i,null!=t?c(t,"isMinor"):t,{name:"unless",hash:{},fn:n.program(6,a,0),inverse:n.noop,data:a,loc:{start:{line:20,column:5},end:{line:23,column:16}}}))?o:"")},6:function(n,t,l,e,a){var o=null!=t?t:n.nullContext||{},i=n.hooks.helperMissing,s=n.escapeExpression,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t\t\t\t<p><button class='ui-button'><span>"+s((r(l,"intlMessage")||t&&r(t,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.SHOW_ME_THIS_CONTENT_TYPE"},data:a,loc:{start:{line:21,column:41},end:{line:21,column:112}}}))+"</span></button></p>\n\t\t\t\t\t\t<p>"+s((r(l,"intlHTMLMessage")||t&&r(t,"intlHTMLMessage")||i).call(o,{name:"intlHTMLMessage",hash:{intlName:"photo-page-scrappy.CHANGE_SAFE_SEARCH_IN_SETTINGS"},data:a,loc:{start:{line:22,column:9},end:{line:22,column:89}}}))+"</p>\n"},8:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,r=n.escapeExpression,c=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t\t\t<p>"+r((c(l,"intlMessage")||t&&c(t,"intlMessage")||s).call(i,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.SIGNED_IN_FOR_CONTENT"},data:a,loc:{start:{line:25,column:8},end:{line:25,column:75}}}))+' <a href="//'+r("function"==typeof(o=null!=(o=c(l,"host")||(null!=t?c(t,"host"):t))?o:s)?o.call(i,{name:"host",hash:{},data:a,loc:{start:{line:25,column:87},end:{line:25,column:95}}}):o)+'/signin/" data-track="photoWellSignInClick">'+r((c(l,"intlMessage")||t&&c(t,"intlMessage")||s).call(i,{name:"intlMessage",hash:{intlName:"common.SIGN_IN"},data:a,loc:{start:{line:25,column:139},end:{line:25,column:180}}}))+"</a></p>\n"},10:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=i(l,"if").call(null!=t?t:n.nullContext||{},null!=t?i(t,"isVideo"):t,{name:"if",hash:{},fn:n.program(11,a,0),inverse:n.program(13,a,0),data:a,loc:{start:{line:31,column:1},end:{line:51,column:8}}}))?o:""},11:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,r="function",c=n.escapeExpression,u=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t<div class="videoplayer main-photo" style="width:'+c(typeof(o=null!=(o=u(l,"width")||(null!=t?u(t,"width"):t))?o:s)===r?o.call(i,{name:"width",hash:{},data:a,loc:{start:{line:32,column:51},end:{line:32,column:60}}}):o)+"px; height:"+c(typeof(o=null!=(o=u(l,"height")||(null!=t?u(t,"height"):t))?o:s)===r?o.call(i,{name:"height",hash:{},data:a,loc:{start:{line:32,column:71},end:{line:32,column:81}}}):o)+'px;"><video id="video_1" poster="'+c(typeof(o=null!=(o=u(l,"src")||(null!=t?u(t,"src"):t))?o:s)===r?o.call(i,{name:"src",hash:{},data:a,loc:{start:{line:32,column:114},end:{line:32,column:121}}}):o)+'" class="video-js vjs-big-play-centered inherit-size"></video></div>\n'},13:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=i(l,"if").call(null!=t?t:n.nullContext||{},null!=t?i(t,"showFuzzy"):t,{name:"if",hash:{},fn:n.program(14,a,0),inverse:n.program(16,a,0),data:a,loc:{start:{line:34,column:2},end:{line:50,column:9}}}))?o:""},14:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,r="function",c=n.escapeExpression,u=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t<span class="restricted-image main-photo" style="width:'+c(typeof(o=null!=(o=u(l,"width")||(null!=t?u(t,"width"):t))?o:s)===r?o.call(i,{name:"width",hash:{},data:a,loc:{start:{line:35,column:58},end:{line:35,column:67}}}):o)+"px;height:"+c(typeof(o=null!=(o=u(l,"height")||(null!=t?u(t,"height"):t))?o:s)===r?o.call(i,{name:"height",hash:{},data:a,loc:{start:{line:35,column:77},end:{line:35,column:87}}}):o)+'px;"></span>\n'},16:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,r="function",c=n.escapeExpression,u=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t<span class="facade-of-protection-neue" style="width:'+c(typeof(o=null!=(o=u(l,"width")||(null!=t?u(t,"width"):t))?o:s)===r?o.call(i,{name:"width",hash:{},data:a,loc:{start:{line:37,column:56},end:{line:37,column:65}}}):o)+"px;height:"+c(typeof(o=null!=(o=u(l,"height")||(null!=t?u(t,"height"):t))?o:s)===r?o.call(i,{name:"height",hash:{},data:a,loc:{start:{line:37,column:75},end:{line:37,column:85}}}):o)+'px;">\n\t\t\t\t'+c((u(l,"outlet")||t&&u(t,"outlet")||s).call(i,null!=t?u(t,"zoom-view"):t,{name:"outlet",hash:{},data:a,loc:{start:{line:38,column:4},end:{line:38,column:24}}}))+"\n\t\t\t\t"+c((u(l,"outlet")||t&&u(t,"outlet")||s).call(i,null!=t?u(t,"vr-overlay-view"):t,{name:"outlet",hash:{},data:a,loc:{start:{line:39,column:4},end:{line:39,column:30}}}))+'\n\t\t\t</span>\n\n\t\t\t<img width="'+c(typeof(o=null!=(o=u(l,"width")||(null!=t?u(t,"width"):t))?o:s)===r?o.call(i,{name:"width",hash:{},data:a,loc:{start:{line:42,column:15},end:{line:42,column:24}}}):o)+'" height="'+c(typeof(o=null!=(o=u(l,"height")||(null!=t?u(t,"height"):t))?o:s)===r?o.call(i,{name:"height",hash:{},data:a,loc:{start:{line:42,column:34},end:{line:42,column:44}}}):o)+'" src="'+c(typeof(o=null!=(o=u(l,"highResSrc")||(null!=t?u(t,"highResSrc"):t))?o:s)===r?o.call(i,{name:"highResSrc",hash:{},data:a,loc:{start:{line:42,column:51},end:{line:42,column:65}}}):o)+'" class="main-photo is-hidden" alt="'+c(typeof(o=null!=(o=u(l,"imgAltText")||(null!=t?u(t,"imgAltText"):t))?o:s)===r?o.call(i,{name:"imgAltText",hash:{},data:a,loc:{start:{line:42,column:101},end:{line:42,column:115}}}):o)+'">\n\t\t\t<script nonce="'+c(typeof(o=null!=(o=u(l,"cspNonce")||(null!=t?u(t,"cspNonce"):t))?o:s)===r?o.call(i,{name:"cspNonce",hash:{},data:a,loc:{start:{line:43,column:18},end:{line:43,column:30}}}):o)+"\">\n\t\t\t\tvar img = document.querySelector('.photo-well-media-scrappy-view img.main-photo');\n\t\t\t\timg.onload = function () { registerFirstPhoto(img); };\n\t\t\t<\/script>\n\t\t\t<noscript>\n\t\t\t\t<img width=\""+c(typeof(o=null!=(o=u(l,"width")||(null!=t?u(t,"width"):t))?o:s)===r?o.call(i,{name:"width",hash:{},data:a,loc:{start:{line:48,column:16},end:{line:48,column:25}}}):o)+'" height="'+c(typeof(o=null!=(o=u(l,"height")||(null!=t?u(t,"height"):t))?o:s)===r?o.call(i,{name:"height",hash:{},data:a,loc:{start:{line:48,column:35},end:{line:48,column:45}}}):o)+'" src="'+c(typeof(o=null!=(o=u(l,"highResSrc")||(null!=t?u(t,"highResSrc"):t))?o:s)===r?o.call(i,{name:"highResSrc",hash:{},data:a,loc:{start:{line:48,column:52},end:{line:48,column:66}}}):o)+'" class="main-photo" alt="'+c(typeof(o=null!=(o=u(l,"imgAltText")||(null!=t?u(t,"imgAltText"):t))?o:s)===r?o.call(i,{name:"imgAltText",hash:{},data:a,loc:{start:{line:48,column:92},end:{line:48,column:106}}}):o)+'">\n\t\t\t</noscript>\n'},compiler:[8,">= 4.3.0"],main:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=i(l,"if").call(null!=t?t:n.nullContext||{},null!=t?i(t,"needsInterstitial"):t,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.program(10,a,0),data:a,loc:{start:{line:1,column:0},end:{line:52,column:7}}}))?o:""},usePartial:!0,useData:!0}),e={};n.Array.each(["adult-content-photo-overlay"],(function(t){var l=n.Template.get("hermes/"+t);l&&(e[t]=l)})),n.Template.register("hermes/photo-well-media-scrappy",(function(t,a){return(a=a||{}).partials=a.partials?n.merge(e,a.partials):e,l(t,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-adult-content-photo-overlay"]});YUI.add("slideshow-well-view",(function(e,t){var i=require("hermes-core/flog")(t);e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){var t=e.collection.getList()[e.position];if(!t)throw new Error("missing photo");return this.set("photo",t),this.set("isActiveViewAgnostic",!0),this.set("canvasSizeIsDirty",!0),""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this},buildContainer:function(){var e,t,o=this,n=this.get("photo");return o.preloadImage&&(o.preloadImage.onload=null),this.appContext.forceServerRender?t=e=this.getPhotoForDisplay(n,{canvas:{width:Number.MAX_VALUE,height:Number.MAX_VALUE}}):(e=this.getPhotoForDisplay(n),t=this.getPhotoForDisplay(n,{includeSizes:["sq","q","t","s","n"]})),this.setContainerWithTemplate("photo-well-media-scrappy",{width:e.width,height:e.height,src:t.url,highResSrc:e.url,showFuzzy:n.getValue("needsInterstitial"),isSignedIn:this.appContext.getViewer().signedIn,isVideo:!1}),YUI.Env.isServer?(this.serverWidth=e.width,this.serverHeight=e.height):n.getValue("needsInterstitial")||this.preloadPhoto(n).then((function(){var e=o.get("container").one(".low-res-photo"),t=o.get("container").one(".main-photo");t&&t.removeClass("is-hidden").show(),e&&e.hide()})).catch((function(e){i.error("Error building slideshow",{err:e})})),this},preloadPhoto:function(t){var i=this;return new e.Promise((function(e,o){return i.generatePhotoElement(t,e,o)}))},generateFuzzyElement:function(e){var t,i;return t=this.getPhotoForDisplay(e),(i=document.createElement("span")).style.width=t.width+"px",i.style.height=t.height+"px",i},generatePhotoElement:function(t,i,o){var n,r;return n=this.getPhotoForDisplay(t),(r=new Image).src=n.url,r.width=n.width,r.height=n.height,r.complete&&i&&"function"==typeof i&&i(t),r=e.one(r),i&&"function"==typeof i&&r.once("load",(function(){i(t),r.detachAll(),r=void 0})),o&&"function"==typeof o&&r.once("error",(function(){o(t),r.detachAll(),r=void 0})),r},handlePhotoLoaded:function(e){this.fire("subviewViewEvent","photoLoaded"),e.getValue("isOwner")||this.appContext.getViewCounter().queue(e.getValue("id"),this.appContext.getReferrer())},swapPhoto:function(t,i){var o,n,r;(r=this.get("container").one(".restricted-image"))&&(n=!0),t.getValue("needsInterstitial")?((o=this.generateFuzzyElement(t)).className="main-photo outro restricted-image",o=e.one(o),r=this.get("container").one(".main-photo"),i||(r.once("transitionend",(function(){r.detach(),r&&r.remove(!0),r=void 0})),r.removeClass("main-photo"),r.removeClass("intro"),r.addClass("outro"),o.removeClass("outro"),o.addClass("intro")),r.insert(o,"before"),i&&(o.removeClass("outro"),r.remove(!0)),this.fire("subviewViewEvent","photoLoaded")):(o=this.generatePhotoElement(t,this.handlePhotoLoaded.bind(this)),n||(r=this.get("container").one(".main-photo")),o.addClass("main-photo"),o.addClass("outro"),r&&r.removeClass("main-photo"),i?(o&&o.removeClass("outro"),r&&(r.insert(o,"before"),r.remove(!0))):(r&&(r.once("transitionend",(function(){r.detachAll(),r&&r.remove(!0),r=void 0})),r.addClass("outro"),r.removeClass("intro"),r.insert(o,"before")),o&&(o.removeClass("outro"),o.addClass("intro"))))},onParentViewEvent:function(e,t){if(t&&t[0])switch(t[0]){case"photoWellResized":this.get("photo").getValue("needsInterstitial")||this.buildContainer();break;case"slideshowView:newPhoto":t[1]&&(this.set("photo",t[1]),this.swapPhoto(t[1],t[2]));break;case"slideshowView:preloadPhoto":t[1]&&this.preloadPhoto(t[1])}},activate:function(){var t=this;return this.get("photo").getValue("needsInterstitial")||(this.registerEventHandler(e.on("flickr:photo-media-well-update",(function(e){t.buildContainer()}))),e.use("global-events",(function(e){t.registerEventHandler(e.globalEvents.subscribe("window:resize",(function(e){t.buildContainer()})))}))),this.appContext.getViewer().signedIn&&this.appContext.getModel("person-preferences-models",t.appContext.auth.user.nsid).then((function(e){t.set("personPreferences",e),t.get("photo").getValue("needsInterstitial")&&!this.appContext.getViewer().isMinor&&t.registerEventHandler(t.get("container").one(".restricted-interstitial-message button").on("click",t.handleInterstitialDismissButtonClick,t))})),this},getPhotoForDisplay:function(e,t){var i,o,n,r=this.getCanvasSize(),s=this.getPixelRatio();return t&&t.canvasSize&&(r=t.canvasSize),i=e.getSizeToFit(r,t),o=r.height/s,n=Math.min(r.width/s,i.width/i.height*o),o=Math.min(o,i.height/i.width*n),{width:Math.round(n),height:Math.round(o),url:i.url,pixelRatio:i.width/n}},getCanvasSize:function(){var t,i,o=this.getPixelRatio(),n={width:500,height:500};return this.get("canvasSizeIsDirty")?YUI.Env.isServer||(i=e.one("#content"))&&((t=i.get("region")).height=e.config.win.innerHeight,t.width=e.config.win.innerWidth):t=this.get("cachedCanvasSize"),this.appContext.viewportData.viewport.width>0&&(n={width:this.appContext.viewportData.viewport.width,height:this.appContext.viewportData.viewport.height-240}),t||(t={top:0,left:0,bottom:500,right:500,width:n.width,height:n.height}),t.height*=o,t.width*=o,t},getPixelRatio:function(){return this.appContext.getViewer().getPixelRatio()}},{})}),"@VERSION@",{requires:["flickr-view","hermes-template-photo-well-media-scrappy"],optionalRequires:["hermes-core"],langBundles:["common","photo-page-scrappy"]});YUI.add("hermes-lang-photo-page-scrappy",(function(e,t){e.Intl.add("hermes/photo-page-scrappy","en-US",{PAGE_TITLE:[{type:1,value:"title"},{type:0,value:" | Flickr"}],BACK_TO:[{type:0,value:"Back to "},{type:1,value:"entryType"}],COULDNT_UPDATE_SETTINGS:[{type:0,value:"We couldnâ€™t update your settings"}],ADULT_CONTENT:[{type:0,value:"Adult Content"}],MATURE_AUDIENCES:[{type:0,value:"This content is for mature audiences only."}],USER_DISCRETION:[{type:0,value:"User discretion is advised."}],SHOW_ME_THIS_CONTENT_TYPE:[{type:0,value:"Show Me This Content Type From Now On"}],CHANGE_SAFE_SEARCH_IN_SETTINGS:[{type:0,value:'You can always change <a href="/account/prefs/safesearch/?from=privacy"  data-track="photoWellSafeSearchClick">SafeSearch settings</a> in your account preferences.'}],SIGNED_IN_FOR_CONTENT:[{type:0,value:"You must be signed in to see this content."}],VIDEO_COMING_SOON:[{type:0,value:"Video support coming soon"}],FIND_OUT_MORE_AD:[{type:0,value:"Find out more at "},{type:1,value:"brand"}],SHARE_THIS_PHOTO:[{type:0,value:"Share this photo"}],DOWNLOAD_THIS_VIDEO:[{type:0,value:"Download this video"}],DOWNLOAD_THIS_PHOTO:[{type:0,value:"Download this photo"}],VIEW_ALL_SIZES:[{type:0,value:"View all sizes"}],DOWNLOAD_PHOTO:[{type:0,value:"Download photo"}],SOME_RIGHTS_RESERVED:[{type:0,value:"Some rights reserved"}],DOWNLOAD:[{type:0,value:"Download"}],ERROR_LOADING_CONTEXT:[{type:0,value:"Error loading context"}],ADD_TITLE:[{type:0,value:"Add title"}],ADD_DESCRIPTION:[{type:0,value:"Add description"}],TITLE_DESCRIPTION_FAILURE:[{type:0,value:"We couldnâ€™t change the Title and Description at this time."}],VIEW_PREVIOUS_COMMENT:[{type:0,value:"View previous comment"}],VIEW_MORE_PREVIOUS_COMMENTS:[{type:0,value:"View "},{type:1,value:"count"},{type:0,value:" previous comments"}],EMPTY_COMMENT_ERROR:[{type:0,value:"An empty comment box? That wonâ€™t work!"}],COMMENT_RATE_LIMIT_ERROR:[{type:0,value:"Slow down, partner! To protect the Flickr community against spam and spammy behavior we place a few restrictions on commenting."}],COMMENT_POST_ERROR:[{type:0,value:"We couldnâ€™t post your comment."}],MORE_COMMENTS_ERROR:[{type:0,value:"We couldnâ€™t get more comments."}],COMMENT_PERMALINK_ERROR:[{type:0,value:"We were unable to find the specified comment on the photo."}],DELETE_COMMENT:[{type:0,value:"Delete Comment"}],COMMENT_DELETE_CONFIRMATION:[{type:0,value:"Are you sure you want to delete this comment?"}],COMMENT_DELETE_ERROR:[{type:0,value:"We couldnâ€™t delete your comment."}],COMMENT_LOADING_ERROR:[{type:0,value:"Error loading comments"}],COMMENT:[{type:0,value:"Comment"}],SHOW_MORE_COMMENTS:[{type:1,value:"count"},{type:0,value:" more"}],REPLY:[{type:0,value:"Reply"}],PERMALINK:[{type:0,value:"Permalink"}],SINGLE_FAVER:[{type:0,value:'<a class="faved-by-person-link" href="/photos/'},{type:1,value:"pathAlias"},{type:0,value:'/">'},{type:1,value:"displayName"},{type:0,value:"</a> faved this"}],DOUBLE_FAVER:[{type:0,value:'<a class="faved-by-person-link" href="/photos/'},{type:1,value:"pathAliasOne"},{type:0,value:'/">'},{type:1,value:"displayNameOne"},{type:0,value:'</a> and <a class="faved-by-person-link" href="/photos/'},{type:1,value:"pathAliasTwo"},{type:0,value:'/">'},{type:1,value:"displayNameTwo"},{type:0,value:"</a> faved this"}],TRIPLE_FAVER:[{type:0,value:'<a class="faved-by-person-link" href="/photos/'},{type:1,value:"pathAliasOne"},{type:0,value:'/">'},{type:1,value:"displayNameOne"},{type:0,value:'</a>, <a class="faved-by-person-link" href="/photos/'},{type:1,value:"pathAliasTwo"},{type:0,value:'/">'},{type:1,value:"displayNameTwo"},{type:0,value:'</a>, and <a class="faved-by-person-link" href="/photos/'},{type:1,value:"pathAliasThree"},{type:0,value:'/">'},{type:1,value:"displayNameThree"},{type:0,value:"</a> faved this"}],MULTI_FAVER:[{type:0,value:'<a class="faved-by-person-link" href="/photos/'},{type:1,value:"pathAliasOne"},{type:0,value:'/">'},{type:1,value:"displayNameOne"},{type:0,value:'</a>, <a class="faved-by-person-link" href="/photos/'},{type:1,value:"pathAliasTwo"},{type:0,value:'/">'},{type:1,value:"displayNameTwo"},{type:0,value:'</a> and <a class="remaining-faved-by" href="#">'},{type:1,value:"count"},{type:0,value:" more people</a> faved this"}],RELATIONSHIP_FRIEND_ERROR:[{type:0,value:"There was a problem setting your friend relationship."}],RELATIONSHIP_FAMILY_ERROR:[{type:0,value:"There was a problem setting your family relationship."}],HIDE_EXIF:[{type:0,value:"Hide EXIF"}],SHOW_EXIF:[{type:0,value:"Show EXIF"}],EDIT_LOCATION:[{type:0,value:"Edit Location"}],EDIT_LOCATION_ORGANIZR:[{type:0,value:"Weâ€™re hard at work redesigning our brand new photo experience. For now, you can Edit Location in Organizr."}],SAVE_LOCATION:[{type:0,value:"Save location"}],APERTURE:[{type:0,value:"Aperture"}],FOCAL_LENGTH:[{type:0,value:"Focal length"}],EXPOSURE_TIME:[{type:0,value:"Exposure time"}],FLASH_AUTO_FIRED:[{type:0,value:"Flash (auto, fired)"}],FLASH_AUTO_NO_FIRE:[{type:0,value:"Flash (auto, did not fire)"}],FLASH_ON_FIRED:[{type:0,value:"Flash (on, fired)"}],FLASH_ON_NO_FIRE:[{type:0,value:"Flash (on, did not fire)"}],FLASH_OFF:[{type:0,value:"Flash (off, did not fire)"}],FLASH_SIMPLE_ON:[{type:0,value:"On"}],FLASH_SIMPLE_OFF:[{type:0,value:"Off"}],POWERED_BY:[{type:0,value:"POWERED BY"}],FOURSQUARE:[{type:0,value:"FOURSQUARE"}],ADD_PHOTO_TO_MAP:[{type:0,value:"Add this photo to your map"}],SINGULAR_FAVE:[{type:0,value:"fave"}],PLURAL_FAVE:[{type:0,value:"faves"}],SINGULAR_VIEW:[{type:0,value:"view"}],PLURAL_VIEW:[{type:0,value:"views"}],SINGULAR_COMMENT:[{type:0,value:"comment"}],PLURAL_COMMENT:[{type:0,value:"comments"}],LICENSE_ERROR:[{type:0,value:"There was a problem changing your photoâ€™s license"}],ALL_RIGHTS_RESERVED:[{type:0,value:"All rights reserved"}],NO_RESTRICTIONS:[{type:0,value:"No known copyright restrictions"}],PUBLIC_DOMAIN:[{type:0,value:"Public domain"}],USA_GOV_WORK:[{type:0,value:"United States government work"}],SAFETY_CHANGE_ERROR:[{type:0,value:"There was an error while changing your photoâ€™s safety level"}],PRIVACY_CHANGE_ERROR:[{type:0,value:"There was a problem changing your photoâ€™s privacy"}],COMMENT_PERM_CHANGE_ERROR:[{type:0,value:"There was an error while changing your photoâ€™s commenting permission"}],FLAG_PHOTO:[{type:0,value:"Flag Photo"}],MARK_FOR_REVIEW:[{type:0,value:"Mark for review"}],ADDITIONAL_INFO:[{type:0,value:"Additional info"}],VIEWING_THIS_PHOTO:[{type:0,value:"Viewing this photo"}],PRIVACY_UPDATE_ERROR:[{type:0,value:"There was an error while updating the privacy. Please try again."}],META_PERMS_UPDATE_ERROR:[{type:0,value:"There was an error while updating add meta permission. Please try again."}],ADD_META_TO_THIS_PHOTO:[{type:0,value:"Add tags and people to this photo"}],COMMENT_PERMS_UPDATE_ERROR:[{type:0,value:"There was an error while updating commenting permission. Please try again."}],COMMENTING_ON_THIS_PHOTO:[{type:0,value:"Commenting on this photo"}],SAFETY_UPDATE_ERROR:[{type:0,value:"There was an error while updating the safety level. Please try again."}],SAFETY_LEVEL_OF_PHOTO:[{type:0,value:"Safety level of this photo"}],FLAG_ERROR:[{type:0,value:"There was an error trying to flag this photo. Please try again."}],PROVIDE_FEEDBACK:[{type:0,value:"Provide feedback on the new photo page"}],ERROR_DELETING_AUTOTAG:[{type:0,value:"Error deleting Autotag"}],AUTOTAGS:[{type:0,value:"Autotags"}],CONTACT_LIST_ERROR:[{type:0,value:"An error occurred while trying to fetch your contact list. Please try again."}],FAILED_TO_REMOVE_PERSON:[{type:0,value:"Failed to remove that person from the photo at this time."}],PERSON_CANNOT_BE_TAGGED:[{type:0,value:"This person cannot be tagged."}],PEOPLE_IN_PHOTO:[{type:0,value:"People in photo"}],ADD_PEOPLE:[{type:0,value:"Add people"}],ADD_PERSON:[{type:0,value:"Add a person"}],ERROR_REMOVING_FROM_GROUP:[{type:0,value:"There was a problem removing this photo from the group"}],ERROR_ACCEPTING_INVITATION:[{type:0,value:"There was a problem accepting the group invitation"}],SEARCH_GROUPS:[{type:0,value:"Search groups"}],PHOTO_NOT_IN_GROUPS:[{type:0,value:"This photo is currently not in any groups"}],ADD_TO_GROUP:[{type:0,value:"Add to group"}],INVITE_TO_GROUP:[{type:0,value:"Invite to group"}],ONE_GROUP_INVITATION:[{type:0,value:"You have 1 group invitation"}],N_GROUP_INVITATIONS:[{type:0,value:"You have "},{type:1,value:"count"},{type:0,value:" group invitations"}],VIEW_MORE_GROUPS:[{type:0,value:"View more groups"}],ERROR_REMOVING_FROM_ALBUM:[{type:0,value:"There was a problem removing this photo from the album"}],WARNING_REMOVE_LAST_PHOTO_FROM_ALBUM:[{type:0,value:"Youâ€™re about to remove the last photo from an album, which will also delete the album."}],REMOVE_PHOTO_AND_ALBUM:[{type:0,value:"Remove photo and delete album"}],ADD_PHOTO_TO_ALBUM:[{type:0,value:"Add this photo to an album"}],SEARCH_ALBUMS:[{type:0,value:"Search albums"}],ADD_TO_ALBUM:[{type:0,value:"Add to album"}],PHOTO_NOT_IN_ALBUMS:[{type:0,value:"This photo is currently not in any albums"}],VIEW_MORE_ALBUMS:[{type:0,value:"View more albums"}],PHOTO_IN_ONE_ALBUM:[{type:0,value:"This photo is in 1 album"}],PHOTO_IN_N_ALBUMS:[{type:0,value:"This photo is in "},{type:1,value:"count"},{type:0,value:" albums"}],INVITE_PENDING:[{type:0,value:"Invite pending"}],CANCEL_INVITE:[{type:0,value:"Cancel invite"}],ACCEPT_INVITE:[{type:0,value:"Accept invite"}],ONE_ITEM:[{type:0,value:"1 item"}],N_ITEMS:[{type:1,value:"count"},{type:0,value:" items"}],ERROR_REMOVING_FROM_GALLERY:[{type:0,value:"There was a problem removing this photo from the gallery"}],SEARCH_GALLERIES:[{type:0,value:"Search galleries"}],ADD_TO_GALLERY:[{type:0,value:"Add to gallery"}],PHOTO_NOT_IN_GALLERIES:[{type:0,value:"This photo is currently not in any galleries"}],VIEW_MORE_GALLERIES:[{type:0,value:"View more galleries"}],PHOTO_IN_ONE_GALLERY:[{type:0,value:"This photo is in 1 gallery"}],PHOTO_IN_N_GALLERIES:[{type:0,value:"This photo is in "},{type:1,value:"count"},{type:0,value:" galleries"}],DELETE_PHOTO:[{type:0,value:"Delete Photo"}],PERMANTENTLY_DELETE:[{type:0,value:"Do you want to permanently delete this photo?"}],EDIT_PHOTO:[{type:0,value:"Edit photo"}],NO_VIDEO_ROTATION:[{type:0,value:"Videos cannot be rotated"}],ROTATE:[{type:0,value:"Rotate"}],NO_VIDEO_REPLACE:[{type:0,value:"Videos cannot be replaced"}],REPLACE:[{type:0,value:"Replace"}],PHOTO_NAVIGATION:[{type:0,value:"Photo navigation"}],THUMBNAIL_NAVIGATION:[{type:0,value:"Thumbnail navigation"}],ZOOM:[{type:0,value:"Zoom"}],VIEW_IN_LIGHTBOX:[{type:0,value:"View in light box"}],BACK_TO_CONTEXT:[{type:0,value:"Back to context"}],ADD_TAG:[{type:0,value:"Add tag"}],GO_TO_ORGANIZER:[{type:0,value:"Go to Organizr"}],ALBUM:[{type:0,value:"album"}],ALBUMS:[{type:0,value:"albums"}],ERROR_LOADING_ALBUMS:[{type:0,value:"There was a problem loading your albums"}],ERROR_ADDING_PHOTO_TO_ALBUM:[{type:0,value:"There was a problem adding this photo to the album"}],ERROR_REMOVING_PHOTO_FROM_ALBUM:[{type:0,value:"There was a problem removing this photo from the album"}],ERROR_LOADING_GROUPS:[{type:0,value:"There was a problem loading the groups you can add photos to"}],ERROR_ADDING_TO_GROUP:[{type:0,value:"There was a problem adding this photo to the group"}],ERROR_ADDING_TO_GROUP_NOT_OWNER:[{type:0,value:"Sorry, the photo couldnâ€™t be added to the group because you donâ€™t own the photo."}],ERROR_ADDING_TO_GROUP_NOT_MEMBER:[{type:0,value:"Sorry, the photo couldnâ€™t be added to the group. You are not a member of the group."}],ERROR_ADDING_TO_GROUP_ALREADY_IN_POOL:[{type:0,value:"The photo is already in that group pool."}],ERROR_ADDING_TO_GROUP_MAX_POOLS:[{type:0,value:"Sorry, the photo couldnâ€™t be added to the group because it is already in the maximum number of group pools."}],ERROR_ADDING_TO_GROUP_MAX_PHOTOS_FROM_USER:[{type:0,value:"Sorry, the photo couldnâ€™t be added to the group. You have already added the maximum number of photos to the pool."}],ERROR_ADDING_TO_GROUP_ADDED_TO_QUEUE:[{type:0,value:"Your photo has been added to the pending queue for the group."}],ERROR_ADDING_TO_GROUP_ALREADY_IN_QUEUE:[{type:0,value:"Your photo is already in the pending queue for the group."}],ERROR_ADDING_TO_GROUP_INVALID_CONTENT:[{type:0,value:"Sorry, the photo couldnâ€™t be added to the group. For more information, check the group requirements for media type, content type, safety level, and geo location."}],ERROR_ADDING_TO_GROUP_MAX_IN_POOL:[{type:0,value:"Sorry, the photo couldnâ€™t be added to the group. The group has the maximum number of photos allowed in a pool."}],ERROR_INVITING_TO_GROUP:[{type:0,value:"There was a problem inviting this photo to the group"}],ERROR_CANCELING_GROUP_INVITIATON:[{type:0,value:"There was a problem canceling this photoâ€™s invitation to the group"}],NO_MATCHES:[{type:0,value:"No matches"}],CREATE_NEW:[{type:0,value:"Create new"}],ERROR_LOADING_GROUP_INVITATIONS:[{type:0,value:"There was a problem loading this photoâ€™s group invitations"}],NO_GROUP_INVITATIONS:[{type:0,value:"No pending group invitations"}],PENDING_INVITATIONS_FOR_PHOTO:[{type:0,value:"Pending invitations for this photo"}],LOADING_INVITATIONS:[{type:0,value:"Loading invitations"}],ERROR_LOADING_GALLERIES:[{type:0,value:"There was a problem loading your galleries"}],ERROR_ADDING_TO_GALLERY:[{type:0,value:"There was a problem adding this photo to the gallery"}],ERROR_PHOTO_NOT_ALLOWED_IN_GALLERY:[{type:0,value:"The owner of this photo does not allow the photo to be added to your gallery"}],ERROR_CREATING_GALLERY:[{type:0,value:"There was a problem creating your new gallery"}],DATE_TAKEN_FORMAT:[{type:0,value:"The taken date must be in the MM/DD/YYYY hh:mm:ss format."}],DATE_POSTED_FUTURE:[{type:0,value:"The posted date cannot be in the future."}],DATE_UPLOADED_FUTURE:[{type:0,value:"The uploaded date cannot be in the future."}],DATE_POSTED_FLICKR_JOIN:[{type:0,value:"Posted date must be after you joined Flickr."}],DATE_UPLOADED_FLICKR_JOIN:[{type:0,value:"Uploaded date must be after you joined Flickr."}],ERROR_SAVING_DATE:[{type:0,value:"Error saving dates"}],DATE_INVALID:[{type:0,value:"One or more dates are invalid"}],EDIT_DATES:[{type:0,value:"Edit Dates"}],DATE_TAKEN_ON:[{type:0,value:"Date Taken On"}],DATE_POSTED_ON:[{type:0,value:"Date Posted On"}],DATE_UPLOADED_ON:[{type:0,value:"Date Uploaded On"}],TAKEN_CIRCA:[{type:0,value:"Taken circa "},{type:1,value:"intlDate"}],TAKEN_SOMETIME_IN:[{type:0,value:"Taken sometime in "},{type:1,value:"intlDate"}],TAKEN_IN:[{type:0,value:"Taken in "},{type:1,value:"intlDate"}],TAKEN_ON:[{type:0,value:"Taken on "},{type:3,value:"intlDate",style:"long"}],UPLOADED_ON:[{type:0,value:"Uploaded on "},{type:1,value:"intlDate"}],SOMETHING_WENT_WRONG:[{type:0,value:"Something went wrong."}],REFRESH_BROWSER:[{type:0,value:"Please refresh your browser and try again."}],TWITTER_NOT_FOUND:[{type:0,value:"Twitter account not found on posting"}],TUMBLR_NOT_FOUND:[{type:0,value:"Tumblr account not found on posting"}],LINK:[{type:0,value:"Link"}],LINK_TO_VIDEO:[{type:0,value:"Link to this video:"}],LINK_TO_PHOTO:[{type:0,value:"Link to this photo:"}],NO_LINKS_FOR_RESTRICTED_VIDEO:[{type:0,value:"Links are not available for restricted videos"}],PRIVATE_VIDEO_SHARE:[{type:0,value:"This is a private video, do you still want to share it?"}],NO_LINKS_FOR_RESTRICTED_PHOTO:[{type:0,value:"Links are not available for restricted photos"}],PRIVATE_PHOTO_SHARE:[{type:0,value:"This is a private photo, do you still want to share it?"}],SHARING_RESTRICTED_VIDEO:[{type:0,value:"Sharing is restricted for this video"}],SHARING_RESTRICTED_PHOTO:[{type:0,value:"Sharing is restricted for this photo"}],EMBED:[{type:0,value:"Embed"}],PUBLIC_TO_SHARE:[{type:0,value:"Please share this photo publicly to view embed code"}],SIZE:[{type:0,value:"Size:"}],TITLE_AND_OWNER_AT_START:[{type:0,value:"Display title and owner at start"}],SHARE_NOW:[{type:0,value:"Share now!"}],SHARE_PHOTO:[{type:0,value:"Share Photo"}],SHARE_ON_TWITTER:[{type:0,value:"Share on Twitter"}],AUTHORIZE_FOR_TWITTER:[{type:0,value:"please authorize Flickr to post on Twitter"}],SHARE_ON_TUMBLR:[{type:0,value:"Share on Tumblr"}],PUBLISH_NOW:[{type:0,value:"Publish now"}],ADD_TO_QUEUE:[{type:0,value:"Add to queue"}],SAVE_AS_DRAFT:[{type:0,value:"Save as draft"}],AUTHORIZE_FOR_TUMBLR:[{type:0,value:"please authorize Flickr to post on Tumblr"}],SHARE_VIA_MAIL:[{type:0,value:"Share via mail"}],SCREEN_NAME_OR_EMAIL:[{type:0,value:"Screen name or email"}],SQUARE:[{type:0,value:"Square"}],SMALL:[{type:0,value:"Small"}],MEDIUM:[{type:0,value:"Medium"}],LARGE:[{type:0,value:"Large"}],ORIGINAL:[{type:0,value:"Original"}],DUPLICATE_TAG:[{type:0,value:"Duplicate Tag"}],INVALID_TAG:[{type:0,value:"Invalid Tag"}],MAXIMUM_TAG_LIMIT:[{type:0,value:"Maximum tag limit (76) reached"}],MAX_TAG_LIMIT:[{type:0,value:"Maximum tag limit (75) reached"}],ERROR_ADDING_TAG:[{type:0,value:"Error adding tag"}],ERROR_DELETING_TAG:[{type:0,value:"Error deleting tag"}],TAGS:[{type:0,value:"Tags"}],ADD_TAGS:[{type:0,value:"Add tags"}],ADD_A_TAG:[{type:0,value:"Add a tag"}],PHOTO_IN_ONE_GROUP:[{type:0,value:"This photo is in 1 group"}],PHOTO_IN_MANY_GROUPS:[{type:0,value:"This photo is in "},{type:2,value:"count",style:null},{type:0,value:" groups"}],PHOTO_IN_NO_GROUPS:[{type:0,value:"This photo is not in any groups"}],ADD_A_COMMENT:[{type:0,value:"Add a comment"}],COMMENT_TUTORIAL:[{type:0,value:"press Enter to post and Shift+Enter for newline"}],SIGNED_IN_TO_POST_A_COMMENT:[{type:0,value:"You must be signed in to post a comment"}],SHARE:[{type:0,value:"Share"}],CODE:[{type:0,value:"Code"}],INCLUDE_A_MESSAGE:[{type:0,value:"Include a message"}],FOR_MORE_INFORMATION_SAFESEARCH:[{type:0,value:'For more information please read <a href="//www.flickr.com/help/photos/?search=flag#145">this FAQ</a>.'}],FLAG_CONFIRMATION_SAFE_WITHIN:[{type:0,value:'This photo is marked as <a href="//www.flickr.com/help/filters/#258">safe</a> and falls within your <a href="//www.flickr.com/account/prefs/safesearch/">SafeSearch settings</a>.'}],FLAG_CONFIRMATION_SAFE_OUTSIDE:[{type:0,value:'This photo is marked as <a href="//www.flickr.com/help/filters/#258">safe</a> and falls outside your <a href="//www.flickr.com/account/prefs/safesearch/">SafeSearch settings</a>.'}],FLAG_CONFIRMATION_MODERATE_WITHIN:[{type:0,value:'This photo is marked as <a href="//www.flickr.com/help/filters/#258">moderate</a> and falls within your <a href="//www.flickr.com/account/prefs/safesearch/">SafeSearch settings</a>.'}],FLAG_CONFIRMATION_MODERATE_OUTSIDE:[{type:0,value:'This photo is marked as <a href="//www.flickr.com/help/filters/#258">moderate</a> and falls outside your <a href="//www.flickr.com/account/prefs/safesearch/">SafeSearch settings</a>.'}],FLAG_CONFIRMATION_RESTRICTED_WITHIN:[{type:0,value:'This photo is marked as <a href="//www.flickr.com/help/filters/#258">restricted</a> and falls within your <a href="//www.flickr.com/account/prefs/safesearch/">SafeSearch settings</a>.'}],FLAG_CONFIRMATION_RESTRICTED_OUTSIDE:[{type:0,value:'This photo is marked as <a href="//www.flickr.com/help/filters/#258">restricted</a> and falls outside your <a href="//www.flickr.com/account/prefs/safesearch/">SafeSearch settings</a>.'}],PRIVATE_PHOTO:[{type:0,value:"Private photo"}],PHOTO_UNFIT_FOR_YOUR_EYES:[{type:0,value:"Photo is unfit for your eyes. Have a kitten: (^._.^)ï¾‰"}],NO_PHOTO_WITH_THAT_ID:[{type:0,value:"No photo found with id "},{type:1,value:"photoId"}],NO_MEMBERS_FOUND:[{type:0,value:"No members found"}],TAKEN_ON_INTL:[{type:0,value:"Taken on "},{type:3,value:"intlDate",style:"long"}],UPLOADED_ON_INTL:[{type:0,value:"Uploaded on "},{type:3,value:"intlDate",style:"long"}],TAKEN_IN_MONTH:[{type:0,value:"Taken in "},{type:3,value:"intlDate",style:"monthYear"}],VIEW_IN_LIGHTBOX_SHORTCUT:[{type:0,value:"View in light box"}],ZOOM_MAX_MESSAGE:[{type:0,value:"Whoa there, tiger! This photo is already at maximum size."}],CLICK_TO_FAVE_PHOTO:[{type:0,value:"Click here to fave this photo"}],CLICK_TO_FAVE_VIDEO:[{type:0,value:"Click here to fave this video"}],BACK_TO_ACTIVITY_FEED:[{type:0,value:"Back to activity feed"}],BACK_TO_PHOTOSTREAM:[{type:0,value:"Back to photostream"}],BACK_TO_SHARED_PHOTOS:[{type:0,value:"Back to shared photos"}],BACK_TO_ALBUM:[{type:0,value:"Back to album"}],BACK_TO_CONTACTS_LIST:[{type:0,value:"Back to contacts list"}],BACK_TO_FAVORITES:[{type:0,value:"Back to favorites"}],BACK_TO_GALLERY:[{type:0,value:"Back to gallery"}],BACK_TO_PROFILE:[{type:0,value:"Back to profile"}],BACK_TO_EXPLORE:[{type:0,value:"Back to explore"}],BACK_TO_COMMONS:[{type:0,value:"Back to commons"}],BACK_TO_GROUP:[{type:0,value:"Back to group"}],BACK_TO_GROUPS:[{type:0,value:"Back to groups"}],BACK_TO_MAP:[{type:0,value:"Back to map"}],BACK_TO_SEARCH:[{type:0,value:"Back to search"}],BACK_TO_TAG:[{type:0,value:"Back to tag"}],BACK_TO_PRINT_SHOP:[{type:0,value:"Back to the print shop"}],ERROR_ADDING_PHOTOS_TO_ALBUM:[{type:0,value:"There was a problem adding these photos to the album"}],ERROR_REMOVING_PHOTOS_FROM_ALBUM:[{type:0,value:"There was a problem removing these photos from the album"}],ERROR_CREATING_ALBUM:[{type:0,value:"There was a problem creating your new album"}],STRICTER_PRIVACY_CHANGE_DIALOG_TITLE:[{type:0,value:"Changing to a stricter privacy level"}],STRICTER_PRIVACY_CHANGE_DIALOG_MESSAGE:[{type:0,value:"Changing a photo to a stricter privacy level will remove any favorites that have accumulated. It will also change the URL of the photo."}],TAGS_HELPER_TEXT:[{type:0,value:"Tags are keywords that make photos easier to find. Add as many as you like, and Flickrâ€™s friendly robots will try to help out by adding some for you."}],TAGS_HELP_TEXT:[{type:0,value:"Tags are keywords that make photos easier to find in Flickr search. The ones you add will show up in dark gray. Flickrâ€™s friendly robots will try to help out by adding some for you; these will appear with just a gray outline."}],PRIVATE_TAGS_OWNER_HELPER_TEXT:[{type:0,value:"This private tag is only visible to you and your friends and family who are allowed to see this photo."}],PRIVATE_TAGS_FRIENDS_FAMILY_HELPER_TEXT:[{type:0,value:"This private tag is only visible to you because you are a friend or family of the photoâ€™s owner."}],CREATE_WALLART_WITH_PHOTO:[{type:0,value:"Create wall art with this photo"}],ERROR_ROTATING_PHOTO:[{type:0,value:"There was a problem rotating this photo, please close and retry."}],ROTATE_PHOTO:[{type:0,value:"Rotate photo"}],ERROR_REPLACING_PHOTO:[{type:0,value:"There was a problem replacing this photo, please close and retry."}],REPLACE_PHOTO:[{type:0,value:"Replace photo"}],PERMANENTLY_REPLACE:[{type:0,value:'Permanently replace this photo ("'},{type:1,value:"photoTitle"},{type:0,value:'" by '},{type:1,value:"username"},{type:0,value:") with <em>"},{type:1,value:"fileName"},{type:0,value:"</em>?"}],REPLACE_WARNING:[{type:0,value:"Replacing a photo canâ€™t be undone. Choose a file to replace this photo with."}],REPLACE_UPLOADING:[{type:0,value:"Uploading <em>"},{type:1,value:"fileName"},{type:0,value:"</em>..."}],ERROR_DELETING_PHOTO:[{type:0,value:"There was a problem deleting this photo, please close and retry."}],SHOW_MORE_STATS:[{type:0,value:"Show more stats"}],SIGNUP_AND_DOWNLOAD_TITLE:[{type:0,value:"You found a photo to download!"}],SIGNUP_AND_DOWNLOAD_VIDEO_TITLE:[{type:0,value:"You found a video to download!"}],SIGNUP_AND_DOWNLOAD_MESSAGE:[{type:0,value:"Join Flickr to access billions of photos."}],SIGNUP_AND_COMMENT_TITLE:[{type:0,value:"Comment on this photo!"}],SIGNUP_AND_COMMENT_MESSAGE:[{type:0,value:"Join Flickr to leave a comment on this photo."}],IMMERSIFY:[{type:0,value:"Immersify"}],SIGNUP_FOOTER_MESSAGE:[{type:0,value:"Join Flickr to explore world class photos"}],TIMEOUT_FAILURE:[{type:0,value:"Weâ€™re having some trouble displaying this photo at the moment. Please try again."}],BUY:[{type:0,value:"Buy"}],ADD_A_NOTE:[{type:0,value:"Add a note"}],CONFIRM_NOTE_DELETION:[{type:0,value:"Are you sure you want to permanently delete this note?"}],VIEWING_PRIVACY:[{type:0,value:"Viewing privacy"}],ALLOW_COMMENTING:[{type:0,value:"Allow commenting"}],ALLOW_TAGS_NOTES_PEOPLE:[{type:0,value:"Allow tags, notes, and people tags"}],SAFETY_LEVEL:[{type:0,value:"Safety level"}],SET_SAFETY_LEVEL:[{type:0,value:"Set safety level"}],KEYBOARD_SHORTCUTS:[{type:0,value:"Keyboard shortcuts"}],EDITOR_UPGRADE:[{type:0,value:"Photo Editor Upgrade"}],EDITOR_UPGRADE_MESSAGE:[{type:0,value:"The edit photo feature on the Flickr photo page is currently disabled pending an upgrade.<br><br>Very shortly, youâ€™ll have access to a more stable, more feature rich photo editor to complement your Flickr experience!<br><br>Sorry for the inconvenience of this unexpected upgrade, but weâ€™re confident it will be worth the wait."}],ERROR_REPLACING_PHOTO_FILE_TYPE:[{type:0,value:"Error replacing photo.  Filetype was unrecognized, please try again with a different photo."}],EDITING_DISABLED:[{type:0,value:"Editing is disabled right now"}],ENTER_TO_EDIT_TITLE_DESC:[{type:0,value:"Press enter to edit title or description."}],BACK_TO_PHOTOSTREAM_EDIT:[{type:0,value:"Back to photostream edit"}],ALLOW_PRINTS_ON_PHOTO:[{type:0,value:"Permission to buy prints"}],AUTO_MODERATION_MESSAGE:[{type:0,value:'The Flickr Moderation Bot ðŸ¤– changed the safety level of this photo. <a class="learn-link" href="'},{type:1,value:"learnUrl"},{type:0,value:'">Learn more</a>.'}],GROUPS_COUNT:[{type:0,value:"Groups ("},{type:1,value:"count"},{type:0,value:")"}],GALLERIES_COUNT:[{type:0,value:"Galleries ("},{type:1,value:"count"},{type:0,value:")"}],ALBUMS_COUNT:[{type:0,value:"Albums ("},{type:1,value:"count"},{type:0,value:")"}],SET_CONTENT_TYPE:[{type:0,value:"Set content type"}],CONTENT_TYPE:[{type:0,value:"Content type"}],SHOW_LICENSE_HISTORY_CTA:[{type:0,value:"License History"}],LICENSE_HISTORY_DATE:[{type:0,value:"Note: There is no license history before "},{type:3,value:"firstLicenseDate",style:"long"}],OLD_LICENSE:[{type:0,value:"Old License"}],NEW_LICENSE:[{type:0,value:"New License"}],ORIGINAL_LICENSE:[{type:0,value:"Original License"}],LICENSE_DATE_OLD_NEW:[{type:3,value:"dateChange",style:"long"}],SEPARATE_TAGS_WITH_SPACE:[{type:0,value:"Separate tags with a space"}],EDIT_TAGS:[{type:0,value:"Edit tags"}],PRESS_ENTER_ADD_TAGS:[{type:0,value:'Press "Enter" to add tags'}],TAG_TIP:[{type:0,value:"Tip: Put multiple words inside quotes or use a comma to create a single tag"}],MANAGE_TAGS:[{type:0,value:"Manage tags"}],MANAGE_CONTACTS:[{type:0,value:"Manage contacts"}],EDIT_PEOPLE:[{type:0,value:"Edit people"}],TYPE_A_NAME:[{type:0,value:"Type a name"}],YOU_CANNOT_ADD_PEOPLE_PHOTO:[{type:0,value:"You cannot add people to this photo"}],YOU_CANNOT_ADD_PEOPLE_VIDEO:[{type:0,value:"You cannot add people to this video"}],YOU_CANNOT_ADD_TAGS_PHOTO:[{type:0,value:"You cannot add tags to this photo"}],YOU_CANNOT_ADD_TAGS_VIDEO:[{type:0,value:"You cannot add tags to this video"}],TAG_LIMIT_REACHED:[{type:0,value:"Tag limit reached"}],REACHED_MAX_PEOPLE_TAGS:[{type:0,value:"You can tag up to 50 people in a photo or video. Please remove existing tags in order to add new ones."}],ADD_DATE_TAKEN:[{type:0,value:"Add date taken"}],DOWNLOAD_MODAL_PREPARING_HEADER:[{type:0,value:"Preparing your download"}],DOWNLOAD_MODAL_COMPLETE:[{type:0,value:"Download complete"}],DOWNLOAD_MODAL_USER_PHOTO_LICENSE:[{type:0,value:"You are downloading "},{type:1,value:"username"},{type:0,value:'\'s photo, licensed as <span class="license-type">'},{type:1,value:"license"},{type:0,value:'</span>. <a class="license-learn-more" href="'},{type:1,value:"learnMoreUrl"},{type:0,value:'" target="_new">Learn more about this license</a>.'}],DOWNLOAD_MODAL_SAY_THX:[{type:0,value:"Say Thanks to "},{type:1,value:"username"},{type:0,value:"!"}],DOWNLOAD_MODAL_WHILE_GIFT:[{type:0,value:"While downloading, show "},{type:1,value:"username"},{type:0,value:" appreciation with the gift of Flickr Pro!"}],PERMANENTLY_REPLACE_NO_PHOTO_TITLE:[{type:0,value:'Permanently replace this photo with "'},{type:1,value:"fileName"},{type:0,value:'"?'}],PERMANENTLY_REPLACE_PHOTO_TITLE:[{type:0,value:'Permanently replace "'},{type:1,value:"photoTitle"},{type:0,value:'" with "'},{type:1,value:"fileName"},{type:0,value:'"?'}],LICENSE_P_HISTORY:[{type:0,value:'<span class="show-license-history">License (<a role="button">History</a>)</span>'}],SHOW_SETTINGS:[{type:0,value:"Show settings"}],COPY_TAGS:[{type:0,value:"Copy "},{type:6,value:"num",options:{one:{value:[{type:7},{type:0,value:" tag"}]},other:{value:[{type:7},{type:0,value:" tags"}]}},offset:0,pluralType:"cardinal"}],COPIED:[{type:0,value:"Copied"}],GROUPS_PRIVACY_INFO_WARNING:[{type:0,value:"Note: If you add something to a group pool, that group's members will be able to view and add notes, comments or tags, regardless of privacy settings."}],ALREADY_INVITED:[{type:0,value:"Already invited to group"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("slideshow-view",(function(e,t){var i=require("hermes-core/flog")(t);e.namespace("Views").Slideshow=e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){if(this.set("isActiveViewAgnostic",!0),this.collection=e.collection,this.pageParams=e.pageParams||{perPage:20},this.pageParams.page=parseInt(e.pageNumber,10)||1,this.position=parseInt(e.position,10)||0,this.collection.totalItems<1)throw new Error("no items in collection");return""===this.get("container").getHTML()&&this.setContainerWithTemplate("flickr-balls"),this},subviewConfig:{"slideshow-attribution-view":{isActiveViewAgnostic:!0,requiredToShowOnClient:!1,requiredToShowOnServer:!1,additionalViewClasses:["is-real-fullscreen","photo-attribution"]},"slideshow-well-view":{isActiveViewAgnostic:!0,requiredToShowOnClient:!1,requiredToShowOnServer:!1,dealbreaker:!0}},loadState:function(){var e=this;return this.collection.getPage(this.pageParams).then((function(){var t,s,n,a=e.collection.getList();if(!a[e.position])throw new Error("The starting photo does not exist.");if(t=parseInt(e.collection.totalItems,10),e.bufferPhotos(e.position,e.get("bufferSize")),s=t-1,(n=e.position-1)<0&&(n=s),!a[n])return e.pageParams.page=Math.ceil(n/e.pageParams.perPage),e.collection.getPage(e.pageParams).then((function(){e.bufferPhotos(e.position,e.get("bufferSize"),"prev")})).catch((function(e){i.error("Error fetching next page in collection",{err:e})}))})).catch((function(t){i.error("Error initializing slideshow",{err:t}),e.close()}))},buildContainer:function(){var e;return this.subviews["slideshow-attribution-view"]&&(e=this.subviews["slideshow-attribution-view"].get("container")),this.setContainerWithTemplate("slideshow",{"slideshow-attribution-view":e,"photo-well-view":this.subviews["slideshow-well-view"].get("container")}),this},freeze:function(){e.one("body").setStyles({overflow:"hidden"})},unfreeze:function(){e.one("body").setStyles({overflow:"visible"})},show:function(){var t=this,s=e.one("#content");return e.use("d3",(function(){if(s){s.append(t.get("container")),t.get("enableFullscreen")&&(t.fullScreenManager=new e.fluid.Fullscreen,t.fullScreenManager.on("enterFullscreen",t.finishInitialization.bind(t)),t.fullScreenManager.enterFullscreen());try{t.initialize().then((function(){t.finishInitialization()})).catch((function(e){i.error("Error initializing slideshow",{err:e}),t.close()}))}catch(e){i.error("Error initializing slideshow",{err:e}),t.close()}e.fire("flickr:setKeyEventScope",t.getKeyEventScope()),t.freeze()}else i.error("Error initializing slideshow: missing content div")})),this},close:function(t){var i=this.get("container");e.fire("flickr:removeKeyEventScope",this.getKeyEventScope()),this.get("enableFullscreen")&&(this.fullScreenManager.exitFullscreen(),this.fullScreenManager.destroy()),i&&i.remove(!0),this.unfreeze(),this.fire("close",t),clearTimeout(this.mouseMoveTimer),clearTimeout(this.initialFadeTimer),clearTimeout(this.timer),clearTimeout(this.movingFadeTimer),this.destroy({remove:!0})},removeCircleTimer:function(){var t=e.d3.select(".timer > svg");t=t.remove()},drawCircleTimer:function(){var t,i,s,n={},a=this.get("autoplayInterval"),o=".timer",r=this.get("container").one(o);n.width=r.get("clientWidth"),n.height=r.get("clientHeight"),t=e.d3.svg.arc().innerRadius(35).outerRadius(40),i=e.d3.scale.linear().range([0,360]).domain([0,360]),s=e.d3.range(i(360)).map((function(e,t){return{startAngle:(t*=2)*(Math.PI/360),endAngle:(t+2)*(Math.PI/360)}})),e.d3.select(o).append("svg").attr("class","arc-timer").attr("width",n.width).attr("height",n.height).append("g").attr("transform","translate("+n.width/2+", "+n.height/2+")").append("g").selectAll("path").data(s).enter().append("path").attr("fill",(function(e){return"#fff"})).transition().delay((function(e,t){return t*a/s.length})).duration(a/s.length).ease("linear").attrTween("d",(function(i){var s=e.d3.interpolate(i.startAngle,i.endAngle);return function(e){return i.endAngle=s(e),t(i)}}))},getNextSafePhoto:function(e,t){var i,s;if(i=this.collection.getList(),s=parseInt(this.collection.totalItems,10),"next"===(t=t||"next")){if((e+=1)===s){if(!this.collection.fetchedEnd)return;e=0}}else if(-1===(e-=1)){if(!this.collection.fetchedEnd)return;e=s-1}return i[e]?e:e===this.position?-1:this.getNextSafePhoto(e,t)},handlePhotoChange:function(e,t){var s,n,a,o,r;s=this.collection.getList(),a=parseInt(this.collection.totalItems,10)-1,e=e||"next",(o=this.getNextSafePhoto(this.position,e))>-1&&(this.position=o),"next"===e?(n=this.position+this.pageParams.perPage)>a&&(n-=a):(n=this.position-this.pageParams.perPage)<0&&(n=a),r=s[this.position],this.fire("parentViewEvent","slideshowView:newPhoto",r,t),s[n]||(this.pageParams.page=Math.ceil(n/this.pageParams.perPage),this.collection.getPage(this.pageParams).catch((function(e){i.error("Error fetching next page in collection",{err:e})}))),this.bufferPhotos(this.position,this.get("bufferSize"),e)},bufferPhotos:function(e,t,i){var s,n,a;if(a=this.collection.getList(),n=parseInt(this.collection.totalItems,10),i=i||"next",t>0&&("next"===i?(e+=1)===n&&(e=0):(e-=1)<0&&(e=n-1),s=a[e]))return this.fire("parentViewEvent","slideshowView:preloadPhoto",s),t-=1,this.bufferPhotos(e,t,i)},handleKeys:function(t){var i=t.button;37===i||74===i?(e.rapidTracker.beacon(this.name,"keyboardLeft"),t.halt(),this.handleNavigation("prev",!0)):39===i||75===i||13===i?(e.rapidTracker.beacon(this.name,"keyboardRight"),t.halt(),this.handleNavigation("next",!0)):32===i?(e.rapidTracker.beacon(this.name,"keyboardPause"),t.halt(),this.handlePlayPause(this.get("container").one(".playpause"))):27===i?(e.rapidTracker.beacon(this.name,"keyboardEsc"),t.halt(),this.close()):t.halt()},handleNavigation:function(e,t){this.handlePhotoChange(e,t),clearTimeout(this.movingFadeTimer),this.movingFadeTimer=setTimeout(this.handleMouseIdle.bind(this),this.get("fadeTimer"))},handlePlayPause:function(e){this.showChrome(),this.toggleAutoplay()},handleClick:function(t){var i,s=t.target;s.hasClass("navigate-target")?(e.rapidTracker.beacon(this.name,"mouseNav"),t.halt(),i=s.getData("direction"),this.handleNavigation(i,!0)):s.hasClass("playpause")?(e.rapidTracker.beacon(this.name,"mousePlayPause"),t.halt(),this.handlePlayPause(s)):s.hasClass("close")&&(e.rapidTracker.beacon(this.name,"mouseClose"),t.halt(),this.close())},getKeyEventScope:function(){return this.name+this._yuid},cycle:function(){clearTimeout(this.timer),this.removeCircleTimer(),this.timer=setTimeout(this.handlePhotoChange.bind(this),this.get("autoplayInterval")),this.drawCircleTimer()},pauseAutoplay:function(){var t=this.get("container").one(".playpause");e.rapidTracker.beacon(this.name,"pauseAutoplay"),clearTimeout(this.timer),this.isPlaying=!1,this.removeCircleTimer(),t.removeClass("playing"),t.addClass("paused")},startAutoplay:function(){var t=this.get("container").one(".playpause");e.rapidTracker.beacon(this.name,"startAutoplay"),this.isPlaying=!0,this.cycle(),t.removeClass("paused"),t.addClass("playing")},toggleAutoplay:function(){this.isPlaying?this.pauseAutoplay():this.startAutoplay()},showChrome:function(){clearTimeout(this.movingFadeTimer),this.isShowingChrome=!0,this.movingFadeTimer=setTimeout(this.handleMouseIdle.bind(this),this.get("fadeTimer")),this.get("container").removeClass("idle")},handleMouseMove:function(e){if(this.isShowingChrome)return this.startPoint={x:e.pageX,y:e.pageY},clearTimeout(this.movingFadeTimer),void(this.movingFadeTimer=setTimeout(this.handleMouseIdle.bind(this),this.get("fadeTimer")));this.startPoint?(clearTimeout(this.mouseMoveTimer),clearTimeout(this.initialFadeTimer),Math.round(Math.sqrt(Math.pow(this.startPoint.y-e.pageY,2)+Math.pow(this.startPoint.x-e.pageX,2)))>this.get("chromeTriggerRadius")&&this.showChrome(),this.mouseMoveTimer=setTimeout(this.resetMouseDistance.bind(this),this.get("mouseIdleTimer"))):this.startPoint={x:e.pageX,y:e.pageY}},resetMouseDistance:function(){this.startPoint=null},handleMouseIdle:function(){var t;this.startPoint&&(t=e.one(document.elementFromPoint(this.startPoint.x,this.startPoint.y)))&&t.ancestor((function(e){return e.hasClass("chrome")}),!0)?this.movingFadeTimer=setTimeout(this.handleMouseIdle.bind(this),this.get("fadeTimer")):this.hideChrome()},hideChrome:function(){this.resetMouseDistance(),this.get("container").addClass("idle"),this.isShowingChrome=!1,clearTimeout(this.movingFadeTimer)},onSubviewEvent:function(e,t){"slideshow-well-view"===e&&"photoLoaded"===t[0]?this.isPlaying&&this.cycle():"slideshow-attribution-view"!==e||"isOpen"!==t[0]&&"personMenuOpen"!==t[0]?"slideshow-attribution-view"!==e||"isClosed"!==t[0]&&"personMenuClose"!==t[0]||(this.movingFadeTimer=setTimeout(this.handleMouseIdle.bind(this),this.get("fadeTimer"))):(clearTimeout(this.movingFadeTimer),clearTimeout(this.initialFadeTimer),this.pauseAutoplay())},finishInitialization:function(){!this.finished&&this.get("enableFullscreen")&&this.fullScreenManager.isInFullscreenMode()?this.finished=!0:(this.get("autoplay")&&this.startAutoplay(),this.initialFadeTimer=setTimeout(this.hideChrome.bind(this),1500))},activate:function(){var t=this.get("container");return this.registerEventHandler(t.on("click",this.handleClick,this)),this.registerEventHandler(this.appContext.flapp.before("activeViewChange",this.close.bind(this))),this._params&&(this._params.keyEventScope=this.getKeyEventScope()),this.attachKeyEvent("down:8,13,27,32,37,74,39,75",e.betterThrottle(this.handleKeys.bind(this),100)),this.get("enableFullscreen")&&this.registerEventHandler(this.fullScreenManager.on("exitFullscreen",this.close.bind(this))),this.registerEventHandler(e.one("body").on("mousemove",e.betterThrottle(this.handleMouseMove.bind(this)))),this}},{ATTRS:{autoplay:{value:!0},autoplayInterval:{value:5e3},fadeTimer:{value:2e3},mouseIdleTimer:{value:200},chromeTriggerRadius:{value:30},bufferSize:{value:2},enableFullscreen:{value:!0}}})}),"@VERSION@",{requires:["flickr-view","hermes-template-slideshow","slideshow-attribution-view","slideshow-well-view"],optionalRequires:["fluid-fullscreen","hermes-core"],langBundles:["common","photo-page-scrappy"]});YUI.add("fluid-fullscreen",(function(e){"use strict";function n(){var n=e.config.doc;return n.fullscreenEnabled||n.webkitFullscreenEnabled||n.mozFullScreenEnabled||n.msFullscreenEnabled}function l(){var n=e.config.doc;return n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement}e.mix(e.Node.DOM_EVENTS,{fullscreenchange:!0,webkitfullscreenchange:!0,mozfullscreenchange:!0,MSFullscreenChange:!0}),e.namespace("fluid").Fullscreen=function(){this.fullscreenChangeHandler=e.on("fullscreenchange",this.handleFullscreenChange.bind(this)),this.webkitFullscreenChangeHandler=e.on("webkitfullscreenchange",this.handleFullscreenChange.bind(this)),this.mozFullscreenChangeHandler=e.on("mozfullscreenchange",this.handleFullscreenChange.bind(this)),this.msFullscreenChangeHandler=e.on("MSFullscreenChange",this.handleFullscreenChange.bind(this)),this.publish("enterFullscreen"),this.publish("exitFullscreen")},e.fluid.Fullscreen.prototype={isFullscreenCapable:n,isInFullscreenMode:l,enterFullscreen:function(l){var r=e.config.doc.documentElement;if(l&&(r=l.getDOMNode()),n()){if(r.requestFullscreen)return r.requestFullscreen();if(r.webkitRequestFullscreen)return r.webkitRequestFullscreen();if(r.mozRequestFullScreen)return r.mozRequestFullScreen();if(r.msRequestFullscreen)return r.msRequestFullscreen()}return!1},exitFullscreen:function(){var n=e.config.doc;if(l()){if(n.exitFullscreen)return n.exitFullscreen();if(n.webkitExitFullscreen)return n.webkitExitFullscreen();if(n.mozCancelFullScreen)return n.mozCancelFullScreen();if(n.msExitFullscreen)return n.msExitFullscreen()}return!1},handleFullscreenChange:function(){this.isInFullscreenMode()?this.fire("enterFullscreen"):this.fire("exitFullscreen")},destroy:function(){this.fullscreenChangeHandler.detach(),this.webkitFullscreenChangeHandler.detach(),this.mozFullscreenChangeHandler.detach(),this.msFullscreenChangeHandler.detach()}},e.augment(e.fluid.Fullscreen,e.EventTarget,!0,null,{prefix:"fullscreen"})}),"@VERSION@",{requires:["event-custom"],optional:[],affinity:"client"});YUI.add("fluid-magic-slideshow-view",(function(i){i.namespace("Views")[this.name]=i.Base.create("fluid-magic-slideshow-view",i.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.nsid=e.nsid,this.modelParams=e.photoListConfig.modelParams,this.pageParams=e.pageParams,this.modelParams.fetchParams&&(this.pageParams=i.merge(this.modelParams.fetchParams,this.pageParams)),this.pageParams.viewPageSize?this.positionMultipler=this.pageParams.viewPageSize:this.positionMultipler=this.pageParams.perPage,this},loadState:function(){var i=this;return this.appContext.getModel(this.modelParams.registryName,this.modelParams.modelIdOrAttributes,this.modelParams.fetchParams).then((function(e){i.position=(i.pageParams.nominalPage-1)*i.positionMultipler||0,i.collection=e.getValue("photoPageList"),i.isEnabled=i.collection.totalItems>0})).catch((function(i){}))},buildContainer:function(){return this.setContainerWithTemplate("fluid-magic-slideshow",{isEnabled:this.isEnabled}),this},toggleSlideshow:function(e){i.rapidTracker.beacon(this.name,"launchSlideshow"),e.halt(),new i.Views.Slideshow({appContext:this.appContext,collection:this.collection,pageParams:this.pageParams,position:this.position}).show()},activate:function(){return this.isEnabled&&this.registerEventHandler(this.get("container").one(".slideshow-toggle").on("click",this.toggleSlideshow.bind(this))),this}})}),"@VERSION@",{requires:["flickr-view","flickr-promise","hermes-template-fluid-magic-slideshow","slideshow-view"],langBundles:["common"]});